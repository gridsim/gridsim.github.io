

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. The Simulator General Use &mdash; Gridsim 0.3.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/icon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
        <link rel="copyright" title="Copyright" href="copyright.html"/>
    <link rel="top" title="Gridsim 0.3.0 documentation" href="index.html"/>
        <link rel="next" title="3. The Simulation Core" href="core.html"/>
        <link rel="prev" title="1. Overview" href="overview.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Gridsim
          

          
          </a>

          
            
            
              <div class="version">
                0.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">1. Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. The Simulator General Use</a></li>
<li class="toctree-l1"><a class="reference internal" href="core.html">3. The Simulation Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">4. The Simulation Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="actor.html">5. The Actors</a></li>
<li class="toctree-l1"><a class="reference internal" href="unit.html">6. The Simulation Unit</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">7. The Gridsim Input/Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="copyright.html">8. Further Information</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Gridsim</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>2. The Simulator General Use</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/documentation.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-simulator-general-use">
<span id="gridsim-use"></span><h1>2. The Simulator General Use<a class="headerlink" href="#the-simulator-general-use" title="Permalink to this headline">¶</a></h1>
<p>The following section describes the first steps to use the Gridsim simulator
and its built-in modules.</p>
<p>Currently, the simulator provides:</p>
<ul class="simple">
<li><a class="reference internal" href="#gridsim-simu"><span class="std std-ref">Global simulation</span></a></li>
<li><a class="reference internal" href="#gridsim-electrical-simu"><span class="std std-ref">Electrical simulation</span></a></li>
<li><a class="reference internal" href="#gridsim-cyberphysical-simu"><span class="std std-ref">Cyber-physical simulation</span></a></li>
<li><a class="reference internal" href="#gridsim-thermal-simu"><span class="std std-ref">Thermal simulation</span></a></li>
<li><a class="reference internal" href="#gridsim-control"><span class="std std-ref">Control of simulation elements</span></a></li>
<li><a class="reference internal" href="#gridsim-record"><span class="std std-ref">Record of simulation elements</span></a></li>
</ul>
<div class="section" id="simulation">
<h2>2.1. Simulation<a class="headerlink" href="#simulation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-gridsim.simulation">
<span id="global-simulation"></span><span id="gridsim-simu"></span><h3>2.1.1. Global simulation<a class="headerlink" href="#module-gridsim.simulation" title="Permalink to this headline">¶</a></h3>
<p><em>Module author: Gillian Basso &lt;<a class="reference external" href="mailto:gillian&#46;basso&#37;&#52;&#48;hevs&#46;ch">gillian<span>&#46;</span>basso<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<p><em>Code author: Michael Clausen &lt;<a class="reference external" href="mailto:clm&#37;&#52;&#48;hevs&#46;ch">clm<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<p>The <a class="reference internal" href="#module-gridsim.simulation" title="gridsim.simulation"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.simulation</span></code></a> module defines a simple way to access to the
simulator and offers interfaces of communication with users.</p>
<p>To create a new gridsim simulation you have to initialize a <a class="reference internal" href="#gridsim.simulation.Simulator" title="gridsim.simulation.Simulator"><code class="xref py py-class docutils literal"><span class="pre">Simulator</span></code></a>
object. Then you will use the different simulation modules in order to define
the electrical and/or thermal topology and parametrize the data recorders and
controllers to form the complete simulation.</p>
<p>Once done, you should always start with a reset to ensure that all simulation
elements are in a defined state. Then you can either do a simple step using the
method <a class="reference internal" href="#gridsim.simulation.Simulator.step" title="gridsim.simulation.Simulator.step"><code class="xref py py-func docutils literal"><span class="pre">Simulator.step()</span></code></a> or run a simulation until a given time with a
given step size using the method <a class="reference internal" href="#gridsim.simulation.Simulator.run" title="gridsim.simulation.Simulator.run"><code class="xref py py-func docutils literal"><span class="pre">Simulator.run()</span></code></a>.</p>
<p><em>Example</em>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gridsim.unit</span> <span class="k">import</span> <span class="n">units</span>
<span class="kn">from</span> <span class="nn">gridsim.simulation</span> <span class="k">import</span> <span class="n">Simulator</span>

<span class="c1"># Create the main simulator object.</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">()</span>

<span class="c1"># Build topology using the different simulation modules</span>
<span class="o">...</span>

<span class="c1"># Run the simulation from the</span>
<span class="n">sim</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mi">1</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">hours</span><span class="p">,</span> <span class="mi">100</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">milliseconds</span><span class="p">)</span>
</pre></div>
</div>
<p>As Gridsim is based on modules. You can get access to the
simulation modules by using special attributes of the core simulation object:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sim</span> <span class="o">=</span> <span class="n">Simulation</span><span class="p">()</span>
<span class="n">sim</span><span class="o">.&lt;</span><span class="n">module_name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>So if you import for example <a class="reference internal" href="#module-gridsim.electrical" title="gridsim.electrical"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.electrical</span></code></a>, you can get the
simulation module by typing:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sim</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">()</span>
<span class="n">el</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">electrical</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Actually, the name of the module is the returned value of
<a class="reference internal" href="core.html#gridsim.core.AbstractSimulationModule.attribute_name" title="gridsim.core.AbstractSimulationModule.attribute_name"><code class="xref py py-func docutils literal"><span class="pre">gridsim.core.AbstractSimulationModule.attribute_name()</span></code></a>.
Refer to the module you want to use to retrieve the module name.</p>
</div>
<dl class="class">
<dt id="gridsim.simulation.Recorder">
<em class="property">class </em><code class="descclassname">gridsim.simulation.</code><code class="descname">Recorder</code><span class="sig-paren">(</span><em>self</em>, <em>attribute_name</em>, <em>x_unit=None</em>, <em>y_unit=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.simulation.Recorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Defines the interface an object has to implement in order to get
notified between simulation steps with a reference to the observed
object, the name of the attribute/property, the actual time and the
actual value of the observed attribute/property.</p>
<p>To add a recorder to the simulation, use <a class="reference internal" href="#gridsim.simulation.Simulator.record" title="gridsim.simulation.Simulator.record"><code class="xref py py-func docutils literal"><span class="pre">Simulator.record()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>attribute_name</strong> (<em>str</em>) &#8211; The name of the attribute observed by this
recorder.</li>
<li><strong>x_unit</strong> (type or unit see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The unit of the horizontal axis</li>
<li><strong>y_unit</strong> (type or unit see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The unit of the vertical axis</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="gridsim.simulation.Recorder.attribute_name">
<code class="descname">attribute_name</code><a class="headerlink" href="#gridsim.simulation.Recorder.attribute_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the attribute observed by this recorder.</p>
</dd></dl>

<dl class="method">
<dt id="gridsim.simulation.Recorder.on_simulation_reset">
<code class="descname">on_simulation_reset</code><span class="sig-paren">(</span><em>self</em>, <em>subjects</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.simulation.Recorder.on_simulation_reset" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called by the simulation on order to inform the recorder
that the simulation has been reset. The parameter <code class="docutils literal"><span class="pre">subjects</span></code> is a list
of all subjects that are observer by the actual recorder. The method is
called for each binding the recorder has with the simulation. This means
that you do 3 calls to <a class="reference internal" href="#gridsim.simulation.Simulator.record" title="gridsim.simulation.Simulator.record"><code class="xref py py-func docutils literal"><span class="pre">Simulator.record()</span></code></a>
with the same recorder, this method is called 3 times.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>subjects</strong> (list or tuple of
<a class="reference internal" href="core.html#gridsim.core.AbstractSimulationElement" title="gridsim.core.AbstractSimulationElement"><code class="xref py py-class docutils literal"><span class="pre">gridsim.core.AbstractSimulationElement</span></code></a>) &#8211; list of all observed objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.simulation.Recorder.on_simulation_step">
<code class="descname">on_simulation_step</code><span class="sig-paren">(</span><em>self</em>, <em>time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.simulation.Recorder.on_simulation_step" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called each time the simulation just completed a step.
This method is optional and not required to re-implement a recorder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>time</strong> (time, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The actual simulation time.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.simulation.Recorder.on_observed_value">
<code class="descname">on_observed_value</code><span class="sig-paren">(</span><em>self</em>, <em>subject</em>, <em>time</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.simulation.Recorder.on_observed_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the main simulation engine between each simulation step in
order the recorder can save the time-value pair of one or multiple
<a class="reference internal" href="core.html#gridsim.core.AbstractSimulationElement" title="gridsim.core.AbstractSimulationElement"><code class="xref py py-class docutils literal"><span class="pre">AbstractSimulationElement</span></code></a> subclass(es).
Any recorder is required to implement this method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>subject</strong> (<a class="reference internal" href="core.html#gridsim.core.AbstractSimulationElement" title="gridsim.core.AbstractSimulationElement"><code class="xref py py-class docutils literal"><span class="pre">AbstractSimulationElement</span></code></a>) &#8211; The object that will be observed by the recorder.</li>
<li><strong>time</strong> (time, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The actual time of the simulation.</li>
<li><strong>value</strong> (<em>Depends attribute...</em>) &#8211; The actual value of the attribute/property of the subject.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.simulation.Simulator">
<em class="property">class </em><code class="descclassname">gridsim.simulation.</code><code class="descname">Simulator</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.simulation.Simulator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Gridsim main simulation class. Moves the simulation of all modules
on in time and groups all simulation modules. The constructor creates
automatically an instance of each registered simulation module. The fact
to import a simulation module to the user&#8217;s project registers the module
automatically within the main simulation class. So only modules really
used by the simulation are instantiated.</p>
<dl class="staticmethod">
<dt id="gridsim.simulation.Simulator.register_simulation_module">
<em class="property">static </em><code class="descname">register_simulation_module</code><span class="sig-paren">(</span><em>module_class</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.simulation.Simulator.register_simulation_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a simulation module class within the main simulator class.
Note that you register the class, the simulator automatically
instantiates an object of the class in its own constructor every time an
instance of the simulator is created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>module_class</strong> (<a class="reference internal" href="core.html#gridsim.core.AbstractSimulationModule" title="gridsim.core.AbstractSimulationModule"><code class="xref py py-class docutils literal"><span class="pre">gridsim.core.AbstractSimulationModule</span></code></a>) &#8211; The class to register as a simulation module.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.simulation.Simulator.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>self</em>, <em>module=None</em>, <em>uid=None</em>, <em>friendly_name=None</em>, <em>element_class=None</em>, <em>instance_of=None</em>, <em>has_attribute=None</em>, <em>close_to=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.simulation.Simulator.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds all <a class="reference internal" href="core.html#gridsim.core.AbstractSimulationElement" title="gridsim.core.AbstractSimulationElement"><code class="xref py py-class docutils literal"><span class="pre">AbstractSimulationElement</span></code></a> derived
objects matching the given criteria by searching on either the given
Gridsim simulation module or by searching the whole simulation of the
module was not specified. Note that the method returns always a list of
element, even if only a single instance is found. All parameters are
optional, if <a class="reference internal" href="#gridsim.simulation.Simulator.find" title="gridsim.simulation.Simulator.find"><code class="xref py py-func docutils literal"><span class="pre">find()</span></code></a> will be called without any parameters,
the list of all element in the actual simulation will be returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>module</strong> (<em>str</em>) &#8211; The module to search for element.</li>
<li><strong>uid</strong> (<em>int</em>) &#8211; ID of the element. Note that these ID&#8217;s are only unique for
a given class inside a module, so you should never search just for
an ID without specifying either the class or at least the module.</li>
<li><strong>friendly_name</strong> (<em>str</em>) &#8211; The friendly name to search for.</li>
<li><strong>element_class</strong> (<a class="reference internal" href="core.html#gridsim.electrical.core.ElectricalBus.type" title="gridsim.electrical.core.ElectricalBus.type"><em>type</em></a>) &#8211; The exact class the element has to be an instance 
of. Superclasses are not considered.</li>
<li><strong>instance_of</strong> (<a class="reference internal" href="core.html#gridsim.electrical.core.ElectricalBus.type" title="gridsim.electrical.core.ElectricalBus.type"><em>type</em></a>) &#8211; The object has to be an instance of the given class,
whereas this can be the superclass of the object too.</li>
<li><strong>has_attribute</strong> (<em>str</em>) &#8211; The object should have an attribute with the given
name. This can be used in order to find all objects that have a 
<code class="docutils literal"><span class="pre">power</span></code> attribute.</li>
<li><strong>close_to</strong> (<em>(Position, float)</em>) &#8211; The object&#8217;s position should be closer to the given one
than the given radius. The parameters should be passed as tuple of 
the position and the radius in meters [m]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List of <a class="reference internal" href="core.html#gridsim.core.AbstractSimulationElement" title="gridsim.core.AbstractSimulationElement"><code class="xref py py-class docutils literal"><span class="pre">AbstractSimulationElement</span></code></a>
matching the given criteria.</p>
</td>
</tr>
</tbody>
</table>
<p><em>Example:</em></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gridsim.util</span> <span class="k">import</span> <span class="n">Position</span>
<span class="kn">from</span> <span class="nn">gridsim.simulation</span> <span class="k">import</span> <span class="n">Simulator</span>
<span class="kn">from</span> <span class="nn">gridsim.electrical.core</span> <span class="k">import</span> <span class="n">AbstractElectricalCPSElement</span>
<span class="kn">from</span> <span class="nn">gridsim.electrical.network</span> <span class="k">import</span> <span class="n">ElectricalSlackBus</span>
<span class="kn">from</span> <span class="nn">gridsim.thermal.element</span> <span class="k">import</span> <span class="n">ThermalProcess</span>

<span class="c1"># Create the simulation.</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">()</span>

<span class="c1"># Here you could create the topology of the actual simulation...</span>
<span class="c1"># ...</span>

<span class="c1"># Get all elements of the electrical simulation module</span>
<span class="c1">#   (Both statements do exactly the same).</span>
<span class="nb">print</span> <span class="n">sim</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">module</span><span class="o">=</span><span class="s1">&#39;electrical&#39;</span><span class="p">)</span>
<span class="nb">print</span> <span class="n">sim</span><span class="o">.</span><span class="n">electrical</span><span class="o">.</span><span class="n">find</span><span class="p">()</span>

<span class="c1"># Get the electrical slack bus.</span>
<span class="nb">print</span> <span class="n">sim</span><span class="o">.</span><span class="n">electrical</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_class</span><span class="o">=</span><span class="n">ElectricalSlackBus</span><span class="p">)</span>

<span class="c1"># Get all electrical consumer/producer/storage elements.</span>
<span class="nb">print</span> <span class="n">sim</span><span class="o">.</span><span class="n">electrical</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">instance_of</span><span class="o">=</span><span class="n">AbstractElectricalCPSElement</span><span class="p">)</span>

<span class="c1"># Get the element with friendly name &#39;bus23&#39;.</span>
<span class="nb">print</span> <span class="n">sim</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">friendly_name</span><span class="o">=</span><span class="s1">&#39;bus23&#39;</span><span class="p">)</span>

<span class="c1"># Get all elements which have the &#39;temperature&#39; attribute.</span>
<span class="nb">print</span> <span class="n">sim</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">has_attribute</span><span class="o">=</span><span class="s1">&#39;temperature&#39;</span><span class="p">)</span>

<span class="c1"># Get all elements of the simulation that are close (1km)</span>
<span class="c1">#   to a given point (Route du rawyl 47, Sion).</span>
<span class="nb">print</span> <span class="n">sim</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">close_to</span><span class="o">=</span><span class="p">(</span><span class="n">Position</span><span class="p">(</span><span class="mf">46.240301</span><span class="p">,</span> <span class="mf">7.358394</span><span class="p">,</span> <span class="mi">566</span><span class="p">),</span> <span class="mi">1000</span><span class="p">))</span>

<span class="c1"># Of course these search criteria can be mixed.</span>
<span class="c1">#   For example we search the 5th thermal process.</span>
<span class="nb">print</span> <span class="n">sim</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">module</span><span class="o">=</span><span class="s1">&#39;thermal&#39;</span><span class="p">,</span> <span class="n">element_class</span><span class="o">=</span><span class="n">ThermalProcess</span><span class="p">,</span> <span class="n">uid</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="gridsim.simulation.Simulator.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>self</em>, <em>initial_time=0*units.second</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.simulation.Simulator.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets (re-initializes) the simulation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>initial_time</strong> (time, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The initial time from which the simulation starts.
Defaults to <code class="docutils literal"><span class="pre">0</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.simulation.Simulator.step">
<code class="descname">step</code><span class="sig-paren">(</span><em>self</em>, <em>delta_time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.simulation.Simulator.step" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes a single simulation step on all modules.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>delta_time</strong> (time, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The delta time for the single step.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.simulation.Simulator.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>self</em>, <em>run_time</em>, <em>delta_time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.simulation.Simulator.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the simulation for a given time.</p>
<p>The run_time parameter defines the duration the simulation has to run.
If a simulation was already run before, the additional duration is
run in addition.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>run_time</strong> (time, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; Total run time.</li>
<li><strong>delta_time</strong> (time, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; Time interval for the simulation.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.simulation.Simulator.record">
<code class="descname">record</code><span class="sig-paren">(</span><em>self</em>, <em>recorder</em>, <em>subjects</em>, <em>conversion=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.simulation.Simulator.record" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a recorder to an attribute of an object. The recorder has to
implement the <a class="reference internal" href="#gridsim.simulation.Recorder" title="gridsim.simulation.Recorder"><code class="xref py py-class docutils literal"><span class="pre">Recorder</span></code></a> interface in order to
receive the data of the given attribute after each simulation step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>recorder</strong> (<a class="reference internal" href="#gridsim.simulation.Recorder" title="gridsim.simulation.Recorder"><code class="xref py py-class docutils literal"><span class="pre">Recorder</span></code></a>) &#8211; Reference to the recorder object. This object gets
notified about the changes of the object&#8217;s attribute at each
simulation step.</li>
<li><strong>subjects</strong> (list or tuple of <a class="reference internal" href="core.html#gridsim.core.AbstractSimulationElement" title="gridsim.core.AbstractSimulationElement"><code class="xref py py-class docutils literal"><span class="pre">AbstractSimulationElement</span></code></a>) &#8211; The subjects of the recorder, in other words the 
objects which is attributes has to be recorded. If <cite>None</cite>, the time
is the only one value recorded, with <code class="xref py py-func docutils literal"><span class="pre">on_simulation_step()</span></code>.</li>
<li><strong>conversion</strong> (<em>lambda context</em>) &#8211; <p>Lambda function to convert the actual value taken
from the attribute before recording. The lambda function gets a
single parameter <code class="docutils literal"><span class="pre">context</span></code> which is a named tuple with the following
element:</p>
<p><strong>value</strong>: The actual value just read from the simulation element&#8217;s
attribute.</p>
<p><strong>time</strong>: The actual simulation time.</p>
<p><strong>delta_time</strong>: The time step just simulated before updating the
recorder. This can be handy in order to calculate for example the
power of a delta-energy value.</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Reference to the recoder.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gridsim.electrical">
<span id="electrical-simulation"></span><span id="gridsim-electrical-simu"></span><h3>2.1.2. Electrical simulation<a class="headerlink" href="#module-gridsim.electrical" title="Permalink to this headline">¶</a></h3>
<p><em>Module author: Gilbert Maitre &lt;<a class="reference external" href="mailto:gilbert&#46;maitre&#37;&#52;&#48;hevs&#46;ch">gilbert<span>&#46;</span>maitre<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<p>The <a class="reference internal" href="#module-gridsim.electrical" title="gridsim.electrical"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.electrical</span></code></a> module implements the electrical part of the
gridsim simulator. It basically manages Consuming-Producing-Storing (CPS)
Elements, which consume (positive sign) and/or produce (negative sign) a
certain amount of energy (<code class="docutils literal"><span class="pre">delta_energy</span></code>) at each simulation step.</p>
<p>CPS elements may be attach to buses of an electrical power network, which is
also made of branches as connections between buses.</p>
<p><em>Example</em>:</p>
<div class="highlight-default"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gridsim.simulation</span> <span class="k">import</span> <span class="n">Simulator</span>
<span class="kn">from</span> <span class="nn">gridsim.unit</span> <span class="k">import</span> <span class="n">units</span>
<span class="kn">from</span> <span class="nn">gridsim.electrical.network</span> <span class="k">import</span> <span class="n">ElectricalPVBus</span><span class="p">,</span> <span class="n">ElectricalPQBus</span><span class="p">,</span>\
    <span class="n">ElectricalTransmissionLine</span><span class="p">,</span> <span class="n">ElectricalGenTransformer</span>
<span class="kn">from</span> <span class="nn">gridsim.electrical.element</span> <span class="k">import</span> <span class="n">GaussianRandomElectricalCPSElement</span><span class="p">,</span> \
    <span class="n">ConstantElectricalCPSElement</span>
<span class="kn">from</span> <span class="nn">gridsim.recorder</span> <span class="k">import</span> <span class="n">PlotRecorder</span>
<span class="kn">from</span> <span class="nn">gridsim.electrical.loadflow</span> <span class="k">import</span> <span class="n">DirectLoadFlowCalculator</span>

<span class="kn">from</span> <span class="nn">gridsim.iodata.output</span> <span class="k">import</span> <span class="n">FigureSaver</span>

<span class="c1"># Create the simulation.</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">()</span>
<span class="n">esim</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">electrical</span>
<span class="n">esim</span><span class="o">.</span><span class="n">load_flow_calculator</span> <span class="o">=</span> <span class="n">DirectLoadFlowCalculator</span><span class="p">()</span>

<span class="c1"># add buses to simulator</span>
<span class="c1"># slack bus has been automatically added</span>
<span class="n">esim</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ElectricalPQBus</span><span class="p">(</span><span class="s1">&#39;Bus 1&#39;</span><span class="p">))</span>
<span class="n">esim</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ElectricalPQBus</span><span class="p">(</span><span class="s1">&#39;Bus 2&#39;</span><span class="p">))</span>
<span class="n">esim</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ElectricalPQBus</span><span class="p">(</span><span class="s1">&#39;Bus 3&#39;</span><span class="p">))</span>
<span class="n">esim</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ElectricalPVBus</span><span class="p">(</span><span class="s1">&#39;Bus 4&#39;</span><span class="p">))</span>

<span class="c1"># add branches to simulator</span>
<span class="c1"># this operation directly connects them to buses, buses have to be already added</span>
<span class="c1"># variant 1</span>
<span class="n">esim</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;Branch 5-3&#39;</span><span class="p">,</span> <span class="n">esim</span><span class="o">.</span><span class="n">bus</span><span class="p">(</span><span class="s1">&#39;Slack Bus&#39;</span><span class="p">),</span> <span class="n">esim</span><span class="o">.</span><span class="n">bus</span><span class="p">(</span><span class="s1">&#39;Bus 3&#39;</span><span class="p">),</span>
             <span class="n">ElectricalGenTransformer</span><span class="p">(</span><span class="s1">&#39;Tap 1&#39;</span><span class="p">,</span> <span class="nb">complex</span><span class="p">(</span><span class="mf">1.05</span><span class="p">),</span> <span class="mf">0.03</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">ohm</span><span class="p">))</span>
<span class="n">tl1</span> <span class="o">=</span> <span class="n">esim</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;Branch 3-1&#39;</span><span class="p">,</span> <span class="n">esim</span><span class="o">.</span><span class="n">bus</span><span class="p">(</span><span class="s1">&#39;Bus 3&#39;</span><span class="p">),</span> <span class="n">esim</span><span class="o">.</span><span class="n">bus</span><span class="p">(</span><span class="s1">&#39;Bus 1&#39;</span><span class="p">),</span>
                   <span class="n">ElectricalTransmissionLine</span><span class="p">(</span><span class="s1">&#39;Line 1&#39;</span><span class="p">,</span>
                                              <span class="mf">1.0</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">metre</span><span class="p">,</span>
                                              <span class="mf">0.35</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">ohm</span><span class="p">,</span> <span class="mf">0.1</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">ohm</span><span class="p">))</span>
<span class="n">tl2</span> <span class="o">=</span> <span class="n">esim</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;Branch 3-2&#39;</span><span class="p">,</span> <span class="n">esim</span><span class="o">.</span><span class="n">bus</span><span class="p">(</span><span class="s1">&#39;Bus 3&#39;</span><span class="p">),</span> <span class="n">esim</span><span class="o">.</span><span class="n">bus</span><span class="p">(</span><span class="s1">&#39;Bus 2&#39;</span><span class="p">),</span>
                   <span class="n">ElectricalTransmissionLine</span><span class="p">(</span><span class="s1">&#39;Line 2&#39;</span><span class="p">,</span>
                                              <span class="mf">1.0</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">metre</span><span class="p">,</span>
                                              <span class="mf">0.3</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">ohm</span><span class="p">,</span> <span class="mf">0.08</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">ohm</span><span class="p">,</span>
                                              <span class="mi">2</span><span class="o">*</span><span class="mf">0.25</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">siemens</span><span class="p">))</span>
<span class="n">tl3</span> <span class="o">=</span> <span class="n">esim</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;Branch 1-2&#39;</span><span class="p">,</span> <span class="n">esim</span><span class="o">.</span><span class="n">bus</span><span class="p">(</span><span class="s1">&#39;Bus 1&#39;</span><span class="p">),</span> <span class="n">esim</span><span class="o">.</span><span class="n">bus</span><span class="p">(</span><span class="s1">&#39;Bus 2&#39;</span><span class="p">),</span>
                   <span class="n">ElectricalTransmissionLine</span><span class="p">(</span><span class="s1">&#39;Line 3&#39;</span><span class="p">,</span>
                                              <span class="mf">1.0</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">metre</span><span class="p">,</span>
                                              <span class="mf">0.25</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">ohm</span><span class="p">,</span> <span class="mf">0.04</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">ohm</span><span class="p">,</span>
                                              <span class="mi">2</span><span class="o">*</span><span class="mf">0.25</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">siemens</span><span class="p">))</span>
<span class="n">esim</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;Branch 4-2&#39;</span><span class="p">,</span> <span class="n">esim</span><span class="o">.</span><span class="n">bus</span><span class="p">(</span><span class="s1">&#39;Bus 4&#39;</span><span class="p">),</span> <span class="n">esim</span><span class="o">.</span><span class="n">bus</span><span class="p">(</span><span class="s1">&#39;Bus 2&#39;</span><span class="p">),</span>
             <span class="n">ElectricalGenTransformer</span><span class="p">(</span><span class="s1">&#39;Tap 2&#39;</span><span class="p">,</span> <span class="nb">complex</span><span class="p">(</span><span class="mf">1.05</span><span class="p">),</span> <span class="mf">0.015</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">ohm</span><span class="p">))</span>

<span class="c1"># attach electrical elements to buses, electrical elements are automatically</span>
<span class="c1"># added to simulator</span>
<span class="n">esim</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="s1">&#39;Bus 1&#39;</span><span class="p">,</span> <span class="n">GaussianRandomElectricalCPSElement</span><span class="p">(</span><span class="s1">&#39;Load1&#39;</span><span class="p">,</span>
                        <span class="mf">1.6</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">watt</span><span class="p">,</span> <span class="mf">0.1</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">watt</span><span class="p">))</span>
<span class="n">esim</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="s1">&#39;Bus 2&#39;</span><span class="p">,</span> <span class="n">GaussianRandomElectricalCPSElement</span><span class="p">(</span><span class="s1">&#39;Load2&#39;</span><span class="p">,</span>
                        <span class="mf">2.0</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">watt</span><span class="p">,</span> <span class="mf">0.2</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">watt</span><span class="p">))</span>
<span class="n">esim</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="s1">&#39;Bus 3&#39;</span><span class="p">,</span> <span class="n">GaussianRandomElectricalCPSElement</span><span class="p">(</span><span class="s1">&#39;Load3&#39;</span><span class="p">,</span>
                        <span class="mf">3.7</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">watt</span><span class="p">,</span> <span class="mf">0.3</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">watt</span><span class="p">))</span>
<span class="n">esim</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="s1">&#39;Bus 4&#39;</span><span class="p">,</span> <span class="n">ConstantElectricalCPSElement</span><span class="p">(</span><span class="s1">&#39;Gen&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mf">5.0</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">watt</span><span class="p">))</span>

<span class="c1"># Create a plot recorder which records power on each bus.</span>
<span class="n">bus_pwr</span> <span class="o">=</span> <span class="n">PlotRecorder</span><span class="p">(</span><span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">second</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">watt</span><span class="p">)</span>
<span class="n">sim</span><span class="o">.</span><span class="n">record</span><span class="p">(</span><span class="n">bus_pwr</span><span class="p">,</span> <span class="n">esim</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_class</span><span class="o">=</span><span class="n">ElectricalPQBus</span><span class="p">))</span>

<span class="c1"># Create a plot recorder which records power on transmission lines.</span>
<span class="n">line_pwr</span> <span class="o">=</span> <span class="n">PlotRecorder</span><span class="p">(</span><span class="s1">&#39;Pij&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">second</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">watt</span><span class="p">)</span>
<span class="n">sim</span><span class="o">.</span><span class="n">record</span><span class="p">(</span><span class="n">line_pwr</span><span class="p">,</span> <span class="p">[</span><span class="n">tl1</span><span class="p">,</span> <span class="n">tl2</span><span class="p">,</span> <span class="n">tl3</span><span class="p">])</span>

<span class="c1"># It is recommended to perform the simulator reset operation.</span>
<span class="n">sim</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Running simulation...&quot;</span><span class="p">)</span>

<span class="c1"># Run the simulation for two hours with a resolution of 1 minute.</span>
<span class="n">total_time</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">hours</span>
<span class="n">delta_time</span> <span class="o">=</span> <span class="mi">1</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">minutes</span>
<span class="n">sim</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">total_time</span><span class="p">,</span> <span class="n">delta_time</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Saving data...&quot;</span><span class="p">)</span>

<span class="c1"># Save the figures as images.</span>
<span class="n">saver</span> <span class="o">=</span> <span class="n">FigureSaver</span><span class="p">(</span><span class="n">bus_pwr</span><span class="p">,</span> <span class="s2">&quot;PQ Bus power&quot;</span><span class="p">)</span>
<span class="n">saver</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./output/bus_pwr.pdf&#39;</span><span class="p">)</span>
<span class="n">saver</span> <span class="o">=</span> <span class="n">FigureSaver</span><span class="p">(</span><span class="n">line_pwr</span><span class="p">,</span> <span class="s2">&quot;Line power&quot;</span><span class="p">)</span>
<span class="n">saver</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./output/line_pwr.pdf&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>shows a pure electrical example made of a reference 5-bus network
(see e.g. Xi-Fan Wang, Yonghua Song, Malcolm Irving, Modern power systems
analysis), to the non-slack buses of which are attached 4 CPS elements :
1 with constant power, production, 3 with random gaussian distributed power
consumption.</p>
<p>Here is the class diagram of the electrical package:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/model-electrical.png"><img alt="_images/model-electrical.png" src="_images/model-electrical.png" style="width: 2066.0px; height: 667.0px;" /></a>
</div>
<div class="section" id="module-gridsim.electrical.simulation">
<span id="electrical-package"></span><h4>2.1.2.1. Electrical package<a class="headerlink" href="#module-gridsim.electrical.simulation" title="Permalink to this headline">¶</a></h4>
<p><em>Module author: Gillian Basso &lt;<a class="reference external" href="mailto:gillian&#46;basso&#37;&#52;&#48;hevs&#46;ch">gillian<span>&#46;</span>basso<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<p><em>Code author: Gilbert Maitre &lt;<a class="reference external" href="mailto:gilbert&#46;maitre&#37;&#52;&#48;hevs&#46;ch">gilbert<span>&#46;</span>maitre<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<dl class="class">
<dt id="gridsim.electrical.simulation.ElectricalSimulator">
<em class="property">class </em><code class="descclassname">gridsim.electrical.simulation.</code><code class="descname">ElectricalSimulator</code><span class="sig-paren">(</span><em>*args</em>, <em>**keywords</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.simulation.ElectricalSimulator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.core.AbstractSimulationModule" title="gridsim.core.AbstractSimulationModule"><code class="xref py py-class docutils literal"><span class="pre">gridsim.core.AbstractSimulationModule</span></code></a></p>
<p>Gridsim main simulation class for electrical part. This module is
automatically added to the <a class="reference internal" href="#gridsim.simulation.Simulator" title="gridsim.simulation.Simulator"><code class="xref py py-class docutils literal"><span class="pre">Simulator</span></code></a> when
importing any class or module of <a class="reference internal" href="#module-gridsim.electrical" title="gridsim.electrical"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.electrical</span></code></a> package.</p>
<p>To access this class from simulation, use
<a class="reference internal" href="#gridsim.simulation.Simulator" title="gridsim.simulation.Simulator"><code class="xref py py-class docutils literal"><span class="pre">Simulator</span></code></a> as follow:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Create the simulation.</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">()</span>
<span class="n">esim</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">electrical</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>calculator</strong> (<a class="reference internal" href="#gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator" title="gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator"><code class="xref py py-class docutils literal"><span class="pre">AbstractElectricalLoadFlowCalculator</span></code></a>) &#8211; The load flow calculator used by the simulator</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="gridsim.electrical.simulation.ElectricalSimulator.load_flow_calculator">
<code class="descname">load_flow_calculator</code><a class="headerlink" href="#gridsim.electrical.simulation.ElectricalSimulator.load_flow_calculator" title="Permalink to this definition">¶</a></dt>
<dd><p>The load flow calculator</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#module-gridsim.electrical.loadflow" title="gridsim.electrical.loadflow"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.electrical.loadflow</span></code></a> for more details.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.simulation.ElectricalSimulator.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>self</em>, <em>element</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.simulation.ElectricalSimulator.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the element to the electrical simulation but do not connect it with
other element. use other functions such as <a class="reference internal" href="#gridsim.electrical.simulation.ElectricalSimulator.connect" title="gridsim.electrical.simulation.ElectricalSimulator.connect"><code class="xref py py-func docutils literal"><span class="pre">connect()</span></code></a> and
<a class="reference internal" href="#gridsim.electrical.simulation.ElectricalSimulator.attach" title="gridsim.electrical.simulation.ElectricalSimulator.attach"><code class="xref py py-func docutils literal"><span class="pre">attach()</span></code></a> to really use the element in the simulation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>element</strong> (<a class="reference internal" href="core.html#gridsim.electrical.core.AbstractElectricalElement" title="gridsim.electrical.core.AbstractElectricalElement"><code class="xref py py-class docutils literal"><span class="pre">AbstractElectricalElement</span></code></a>) &#8211; the element to add</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the given element</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.simulation.ElectricalSimulator.bus">
<code class="descname">bus</code><span class="sig-paren">(</span><em>self</em>, <em>id_or_friendly_name</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.simulation.ElectricalSimulator.bus" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the bus with the given id or friendly name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>id_or_friendly_name</strong> (<em>(int, str)</em>) &#8211; the identifier of the bus</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the <a class="reference internal" href="core.html#gridsim.electrical.core.ElectricalBus" title="gridsim.electrical.core.ElectricalBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalBus</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>KeyError</strong> &#8211; if the friendly name is not valid</li>
<li><strong>IndexError</strong> &#8211; if the id is not valid</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.simulation.ElectricalSimulator.branch">
<code class="descname">branch</code><span class="sig-paren">(</span><em>self</em>, <em>id_or_friendly_name</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.simulation.ElectricalSimulator.branch" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the branch with the given id or friendly name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>id_or_friendly_name</strong> (<em>(int, str)</em>) &#8211; the identifier of the bus</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the <a class="reference internal" href="core.html#gridsim.electrical.core.ElectricalNetworkBranch" title="gridsim.electrical.core.ElectricalNetworkBranch"><code class="xref py py-class docutils literal"><span class="pre">ElectricalNetworkBranch</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>KeyError</strong> &#8211; if the friendly name is not valid</li>
<li><strong>IndexError</strong> &#8211; if the id is not valid</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.simulation.ElectricalSimulator.cps_element">
<code class="descname">cps_element</code><span class="sig-paren">(</span><em>self</em>, <em>id_or_friendly_name</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.simulation.ElectricalSimulator.cps_element" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the branch with the given id or friendly name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>id_or_friendly_name</strong> (<em>(int, str)</em>) &#8211; the identifier of the bus</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the <a class="reference internal" href="core.html#gridsim.electrical.core.AbstractElectricalCPSElement" title="gridsim.electrical.core.AbstractElectricalCPSElement"><code class="xref py py-class docutils literal"><span class="pre">AbstractElectricalCPSElement</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>KeyError</strong> &#8211; if the friendly name is not valid</li>
<li><strong>IndexError</strong> &#8211; if the id is not valid</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.simulation.ElectricalSimulator.connect">
<code class="descname">connect</code><span class="sig-paren">(</span><em>self</em>, <em>friendly_name</em>, <em>bus_a</em>, <em>bus_b</em>, <em>two_port</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.simulation.ElectricalSimulator.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a <a class="reference internal" href="core.html#gridsim.electrical.core.ElectricalNetworkBranch" title="gridsim.electrical.core.ElectricalNetworkBranch"><code class="xref py py-class docutils literal"><span class="pre">ElectricalNetworkBranch</span></code></a> with
the given parameters and adds it to the simulation.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="core.html#gridsim.electrical.core.ElectricalNetworkBranch" title="gridsim.electrical.core.ElectricalNetworkBranch"><code class="xref py py-class docutils literal"><span class="pre">ElectricalNetworkBranch</span></code></a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>friendly_name</strong> (<em>str</em>) &#8211; the name of the branch</li>
<li><strong>bus_a</strong> (<a class="reference internal" href="core.html#gridsim.electrical.core.ElectricalBus" title="gridsim.electrical.core.ElectricalBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalBus</span></code></a>) &#8211; the first bus the branch connects</li>
<li><strong>bus_b</strong> (<a class="reference internal" href="core.html#gridsim.electrical.core.ElectricalBus" title="gridsim.electrical.core.ElectricalBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalBus</span></code></a>) &#8211; the second bus the branch connects</li>
<li><strong>two_port</strong> &#8211; the element placed on the branch</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the new <a class="reference internal" href="core.html#gridsim.electrical.core.ElectricalNetworkBranch" title="gridsim.electrical.core.ElectricalNetworkBranch"><code class="xref py py-class docutils literal"><span class="pre">ElectricalNetworkBranch</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.simulation.ElectricalSimulator.attach">
<code class="descname">attach</code><span class="sig-paren">(</span><em>self</em>, <em>bus</em>, <em>el</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.simulation.ElectricalSimulator.attach" title="Permalink to this definition">¶</a></dt>
<dd><p>Attaches the given bus to the given element. After this function, the
element is present in the simulation and will provide electrical energy
to the simulation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bus</strong> (<a class="reference internal" href="core.html#gridsim.electrical.core.ElectricalBus" title="gridsim.electrical.core.ElectricalBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalBus</span></code></a>) &#8211; the bus the element has to be attached</li>
<li><strong>el</strong> (<a class="reference internal" href="core.html#gridsim.electrical.core.AbstractElectricalCPSElement" title="gridsim.electrical.core.AbstractElectricalCPSElement"><code class="xref py py-class docutils literal"><span class="pre">AbstractElectricalCPSElement</span></code></a>) &#8211; the new element of the simulation</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.simulation.ElectricalSimulator.attribute_name">
<code class="descname">attribute_name</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.simulation.ElectricalSimulator.attribute_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name of this module.
This name is used to access to this electrical simulator from the
<a class="reference internal" href="#gridsim.simulation.Simulator" title="gridsim.simulation.Simulator"><code class="xref py py-class docutils literal"><span class="pre">Simulator</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Create the simulation.</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">()</span>
<span class="n">esim</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">electrical</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">&#8216;electrical&#8217;</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.simulation.ElectricalSimulator.all_elements">
<code class="descname">all_elements</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.simulation.ElectricalSimulator.all_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all <a class="reference internal" href="core.html#gridsim.electrical.core.AbstractElectricalElement" title="gridsim.electrical.core.AbstractElectricalElement"><code class="xref py py-class docutils literal"><span class="pre">AbstractElectricalElement</span></code></a>
contained in the module.
The core simulator will use these lists in order to be able
to retrieve objects or list of objects by certain criteria using
<a class="reference internal" href="#gridsim.simulation.Simulator.find" title="gridsim.simulation.Simulator.find"><code class="xref py py-func docutils literal"><span class="pre">gridsim.simulation.Simulator.find()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.simulation.ElectricalSimulator.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.simulation.ElectricalSimulator.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls <a class="reference internal" href="core.html#gridsim.core.AbstractSimulationElement.reset" title="gridsim.core.AbstractSimulationElement.reset"><code class="xref py py-func docutils literal"><span class="pre">gridsim.core.AbstractSimulationElement.reset()</span></code></a> of
each element in this electrical simulator, added by the
<a class="reference internal" href="#gridsim.electrical.simulation.ElectricalSimulator.add" title="gridsim.electrical.simulation.ElectricalSimulator.add"><code class="xref py py-func docutils literal"><span class="pre">ElectricalSimulator.add()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.simulation.ElectricalSimulator.calculate">
<code class="descname">calculate</code><span class="sig-paren">(</span><em>self</em>, <em>time</em>, <em>delta_time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.simulation.ElectricalSimulator.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls <a class="reference internal" href="core.html#gridsim.core.AbstractSimulationElement.calculate" title="gridsim.core.AbstractSimulationElement.calculate"><code class="xref py py-func docutils literal"><span class="pre">gridsim.core.AbstractSimulationElement.calculate()</span></code></a>
of each <a class="reference internal" href="core.html#gridsim.electrical.core.AbstractElectricalCPSElement" title="gridsim.electrical.core.AbstractElectricalCPSElement"><code class="xref py py-class docutils literal"><span class="pre">AbstractElectricalCPSElement</span></code></a> in this electrical
simulator, added by the <code class="xref py py-func docutils literal"><span class="pre">ElectricalSimulator.add()</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>time</strong> (<em>int or float in second</em>) &#8211; The actual simulation time.</li>
<li><strong>delta_time</strong> (<em>int or float in second</em>) &#8211; The time period for which the calculation
has to be done.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.simulation.ElectricalSimulator.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>self</em>, <em>time</em>, <em>delta_time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.simulation.ElectricalSimulator.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the data of each <a class="reference internal" href="core.html#gridsim.electrical.core.AbstractElectricalCPSElement" title="gridsim.electrical.core.AbstractElectricalCPSElement"><code class="xref py py-class docutils literal"><span class="pre">AbstractElectricalCPSElement</span></code></a> in this
electrical simulator added by the <code class="xref py py-func docutils literal"><span class="pre">ElectricalSimulator.add()</span></code> and
calculate the load flow with
<a class="reference internal" href="#gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator" title="gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator"><code class="xref py py-class docutils literal"><span class="pre">AbstractElectricalLoadFlowCalculator</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>time</strong> (<em>int or float in second</em>) &#8211; The actual simulation time.</li>
<li><strong>delta_time</strong> (<em>int or float in second</em>) &#8211; The time period for which the calculation
has to be done.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gridsim.electrical.loadflow">
<span id="electrical-load-flow"></span><h4>2.1.2.2. Electrical load flow<a class="headerlink" href="#module-gridsim.electrical.loadflow" title="Permalink to this headline">¶</a></h4>
<p><em>Module author: Michael Sequeira Carvalho &lt;<a class="reference external" href="mailto:michael&#46;sequeira&#37;&#52;&#48;hevs&#46;ch">michael<span>&#46;</span>sequeira<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<p><em>Module author: Gilbert Maitre &lt;<a class="reference external" href="mailto:gilbert&#46;maitre&#37;&#52;&#48;hevs&#46;ch">gilbert<span>&#46;</span>maitre<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<p><em>Code author: Gilbert Maitre &lt;<a class="reference external" href="mailto:gilbert&#46;maitre&#37;&#52;&#48;hevs&#46;ch">gilbert<span>&#46;</span>maitre<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<p>This module provides a toolbox to Gridsim to perform computation of electrical
values within the electrical network, in other words to solve the so-called
power-flow problem:</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://en.wikipedia.org/wiki/Power-flow_study#Power-flow_problem_formulation">http://en.wikipedia.org/wiki/Power-flow_study#Power-flow_problem_formulation</a></p>
</div>
<dl class="class">
<dt id="gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator">
<em class="property">class </em><code class="descclassname">gridsim.electrical.loadflow.</code><code class="descname">AbstractElectricalLoadFlowCalculator</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This class is the base for all calculator that have been or are going to
be implemented to solve the power-flow problem.</p>
<p>At initialization the user has to give the reference power value
<cite>s_base</cite> (all power values are then given relative to this reference
value), the reference voltage value <cite>v_base</cite> (all voltage values are
then given relative to this reference value), a boolean array <cite>is_PV</cite>
specifying which one among the buses is a <a class="reference internal" href="#gridsim.electrical.network.ElectricalPVBus" title="gridsim.electrical.network.ElectricalPVBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPVBus</span></code></a>
(the bus with 1st position is slack, the others non
<a class="reference internal" href="#gridsim.electrical.network.ElectricalPVBus" title="gridsim.electrical.network.ElectricalPVBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPVBus</span></code></a> are <a class="reference internal" href="#gridsim.electrical.network.ElectricalPQBus" title="gridsim.electrical.network.ElectricalPQBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPQBus</span></code></a>), an integer
array <cite>b</cite> specifying for each branch the bus id it is starting from and
the bus id it is going to, a complex array <cite>Yb</cite> specifying
admittances of each network branch.</p>
<dl class="attribute">
<dt id="gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.s_base">
<code class="descname">s_base</code><em class="property"> = None</em><a class="headerlink" href="#gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.s_base" title="Permalink to this definition">¶</a></dt>
<dd><p>The reference power value.
Set by <a class="reference internal" href="#gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.update" title="gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.update"><code class="xref py py-func docutils literal"><span class="pre">AbstractElectricalLoadFlowCalculator.update()</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.v_base">
<code class="descname">v_base</code><em class="property"> = None</em><a class="headerlink" href="#gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.v_base" title="Permalink to this definition">¶</a></dt>
<dd><p>The reference voltage value.
Set by <a class="reference internal" href="#gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.update" title="gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.update"><code class="xref py py-func docutils literal"><span class="pre">AbstractElectricalLoadFlowCalculator.update()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>self</em>, <em>s_base</em>, <em>v_base</em>, <em>is_PV</em>, <em>b</em>, <em>Yb</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates values of the calculator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>s_base</strong> (<em>float</em>) &#8211; reference power value</li>
<li><strong>v_base</strong> (<em>float</em>) &#8211; reference voltage value</li>
<li><strong>is_PV</strong> (<em>1-dimensional numpy array of boolean</em>) &#8211; N-long vector specifying which bus is of type
<a class="reference internal" href="#gridsim.electrical.network.ElectricalPVBus" title="gridsim.electrical.network.ElectricalPVBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPVBus</span></code></a>, where N is the number of buses including
slack.</li>
<li><strong>b</strong> (<em>2-dimensional numpy array of int</em>) &#8211; Mx2 table containing for each branch the ids of start and end
buses.</li>
<li><strong>Yb</strong> (<em>2-dimensional numpy array of complex</em>) &#8211; Mx4 table containing the admittances <cite>Yii</cite>, <cite>Yij</cite>, <cite>Yjj</cite>,
and <cite>Yji</cite> of each branch.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.calculate">
<code class="descname">calculate</code><span class="sig-paren">(</span><em>self</em>, <em>P</em>, <em>Q</em>, <em>V</em>, <em>Th</em>, <em>scaled</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute all bus electrical values determined by the network:</p>
<ul class="simple">
<li>takes as input active powers P of all non-slack buses, reactive powers
of <a class="reference internal" href="#gridsim.electrical.network.ElectricalPQBus" title="gridsim.electrical.network.ElectricalPQBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPQBus</span></code></a> and voltage amplitudes of
<a class="reference internal" href="#gridsim.electrical.network.ElectricalPVBus" title="gridsim.electrical.network.ElectricalPVBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPVBus</span></code></a>; all these values have to be placed by the
user at the right place in the N-long vectors, <cite>P</cite>, <cite>Q</cite>, and,
respectively, <cite>V</cite>, passed to this method.</li>
<li>outputs active power of slack bus, reactive powers of
<a class="reference internal" href="#gridsim.electrical.network.ElectricalPVBus" title="gridsim.electrical.network.ElectricalPVBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPVBus</span></code></a>, voltage amplitudes of
<a class="reference internal" href="#gridsim.electrical.network.ElectricalPQBus" title="gridsim.electrical.network.ElectricalPQBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPQBus</span></code></a>, and voltage angles of all buses; all these
values are placed by this method at the
right place in the N-long vectors <cite>P</cite>, <cite>Q</cite>, <cite>V</cite>, and, respectively,
<cite>Th</cite>, passed to this method.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>P</strong> (<em>1-dimensional numpy array of float</em>) &#8211; N-long vector of bus active powers, where N is the number of
buses including slack.</li>
<li><strong>Q</strong> (<em>1-dimensional numpy array of float</em>) &#8211; N-long vector of bus reactive powers, where N is the number of
buses including slack.</li>
<li><strong>V</strong> (<em>1-dimensional numpy array of float</em>) &#8211; N-long vector of bus voltage amplitudes, where N is the number
of buses including slack.</li>
<li><strong>Th</strong> (<em>1-dimensional numpy array of float</em>) &#8211; N-long vector of bus voltage angles, where N is the number
of buses including slack.</li>
<li><strong>scaled</strong> (<em>boolean</em>) &#8211; specifies whether electrical input values are scaled or
not</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">modified [P, Q, V, Th]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">a list of 4 element</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.get_branch_power_flows">
<code class="descname">get_branch_power_flows</code><span class="sig-paren">(</span><em>self</em>, <em>scaled</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.get_branch_power_flows" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute all branch power flows. Cannot be called before method
<a class="reference internal" href="#gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.calculate" title="gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.calculate"><code class="xref py py-func docutils literal"><span class="pre">AbstractElectricalLoadFlowCalculator.calculate()</span></code></a>.
Returns a tuple made of 4 1-dimensional numpy arrays:</p>
<ul class="simple">
<li>Pij containing branch input active powers,</li>
<li>Qij containing branch input reactive powers,</li>
<li>Pji containing branch output active powers,</li>
<li>Qji containing branch output reactive powers.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scaled</strong> (<em>boolean</em>) &#8211; specifies whether output power flows have to be scaled or
not</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">4 M-long vector, where M is the number of branches<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Pij:</th><td class="field-body">vector of active powers entering the branch from the from-bus
termination</td>
</tr>
<tr class="field-even field"><th class="field-name">Qij:</th><td class="field-body">vector of reactive powers entering the branch from the from-bus
termination</td>
</tr>
<tr class="field-odd field"><th class="field-name">Pji:</th><td class="field-body">vector of active powers entering the branch from the to-bus
termination</td>
</tr>
<tr class="field-even field"><th class="field-name">Qji:</th><td class="field-body">vector of reactive powers entering the branch from the to-bus
termination</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple of one-dimensional numpy arrays of float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.get_branch_max_currents">
<code class="descname">get_branch_max_currents</code><span class="sig-paren">(</span><em>self</em>, <em>scaled</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.get_branch_max_currents" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the maximal current amplitude of each branch. Cannot be called
before method <a class="reference internal" href="#gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.calculate" title="gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.calculate"><code class="xref py py-func docutils literal"><span class="pre">AbstractElectricalLoadFlowCalculator.calculate()</span></code></a>.
Returns a M-long vector of maximal branch
current amplitudes, where M is the number of branches.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scaled</strong> (<em>boolean</em>) &#8211; specifies whether output currents have to be scaled or
not</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">M-long vector containing for each branch the maximal current
amplitude</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1-dimensional numpy array of float</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.electrical.loadflow.DirectLoadFlowCalculator">
<em class="property">class </em><code class="descclassname">gridsim.electrical.loadflow.</code><code class="descname">DirectLoadFlowCalculator</code><span class="sig-paren">(</span><em>*args</em>, <em>**keywords</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.loadflow.DirectLoadFlowCalculator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator" title="gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator"><code class="xref py py-class docutils literal"><span class="pre">gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator</span></code></a></p>
<p>This class implements the direct load flow method to solve the
power-flow problem.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://en.wikipedia.org/wiki/Power-flow_study#Power-flow_problem_formulation">http://en.wikipedia.org/wiki/Power-flow_study#Power-flow_problem_formulation</a>.</p>
</div>
<p>The method is described for example in Hossein Seifi, Mohammad Sadegh
Sepasian, Electric Power System Planning: Issues, Algorithms and
Solutions, pp. 246-248</p>
<p>At initialization the user has to give the reference power value
<cite>s_base</cite> (all power values are then given relative to this reference
value), the reference voltage value <cite>v_base</cite> (all voltage values are
then given relative to this reference value), a boolean array <cite>is_PV</cite>
specifying which one among the buses is a <a class="reference internal" href="#gridsim.electrical.network.ElectricalPVBus" title="gridsim.electrical.network.ElectricalPVBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPVBus</span></code></a>
(the bus with 1st position is slack, the others non
<a class="reference internal" href="#gridsim.electrical.network.ElectricalPVBus" title="gridsim.electrical.network.ElectricalPVBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPVBus</span></code></a> buses are <a class="reference internal" href="#gridsim.electrical.network.ElectricalPQBus" title="gridsim.electrical.network.ElectricalPQBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPQBus</span></code></a> buses), an
integer array <cite>b</cite> specifying for each branch the bus id it is starting
from and the bus id it is going to, a complex array <cite>Yb</cite> specifying
admittances of each network branch.</p>
<dl class="method">
<dt id="gridsim.electrical.loadflow.DirectLoadFlowCalculator.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>self</em>, <em>s_base</em>, <em>v_base</em>, <em>is_PV</em>, <em>b</em>, <em>Yb</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.loadflow.DirectLoadFlowCalculator.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates values of the calculator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>s_base</strong> (<em>float</em>) &#8211; reference power value</li>
<li><strong>v_base</strong> (<em>float</em>) &#8211; reference voltage value</li>
<li><strong>is_PV</strong> (<em>1-dimensional numpy array of boolean</em>) &#8211; N-long vector specifying which bus is of type
<a class="reference internal" href="#gridsim.electrical.network.ElectricalPVBus" title="gridsim.electrical.network.ElectricalPVBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPVBus</span></code></a>, where N is the number of buses including
slack.</li>
<li><strong>b</strong> (<em>2-dimensional numpy array of int</em>) &#8211; Mx2 table containing for each branch the ids of start and end
buses.</li>
<li><strong>Yb</strong> (<em>2-dimensional numpy array of complex</em>) &#8211; Mx4 table containing the admittances Yii, Yij, Yjj, and Yji
of each branch.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">variable names have been chosen to match the notation used in
Hossein Seifi, Mohammad Sadegh Sepasian, Electric Power System
Planning: Issues, Algorithms and Solutions, pp. 246-248</p>
</div>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.loadflow.DirectLoadFlowCalculator.calculate">
<code class="descname">calculate</code><span class="sig-paren">(</span><em>self</em>, <em>P</em>, <em>Q</em>, <em>V</em>, <em>Th</em>, <em>scaled</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.loadflow.DirectLoadFlowCalculator.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes all bus electrical values determined by the network, i.e</p>
<ul class="simple">
<li>takes as input active powers P of all non-slack buses.</li>
<li>outputs voltage angles of all buses.</li>
</ul>
<p>Reactive powers and voltage amplitudes are not used. However, to be
compatible with the N-long vectors with the method of the base class,
all N-long vectors P, Q, V, and Th have to be passed to this method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>P</strong> (<em>1-dimensional numpy array of float</em>) &#8211; N-long vector of bus active powers, where N is the number of
buses including slack.</li>
<li><strong>Q</strong> (<em>1-dimensional numpy array of float</em>) &#8211; N-long vector of bus reactive powers, where N is the number of
buses including slack.</li>
<li><strong>V</strong> (<em>1-dimensional numpy array of float</em>) &#8211; N-long vector of bus voltage amplitudes, where N is the number
of buses including slack.</li>
<li><strong>Th</strong> (<em>1-dimensional numpy array of float</em>) &#8211; N-long vector of bus voltage angles, where N is the number of
buses including slack.</li>
<li><strong>scaled</strong> (<em>boolean</em>) &#8211; specifies whether electrical input values are scaled or
not</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">modified [P, Q, V, Th]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">a list of 4 element</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.loadflow.DirectLoadFlowCalculator.get_branch_power_flows">
<code class="descname">get_branch_power_flows</code><span class="sig-paren">(</span><em>self</em>, <em>scaled</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.loadflow.DirectLoadFlowCalculator.get_branch_power_flows" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes all branch power flows. Cannot be called before method
<a class="reference internal" href="#gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.calculate" title="gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator.calculate"><code class="xref py py-func docutils literal"><span class="pre">AbstractElectricalLoadFlowCalculator.calculate()</span></code></a>.
To be compatible with the generic method, returns a
tuple made of 4 1-dimensional numpy arrays:</p>
<ul class="simple">
<li><cite>Pij</cite> containing branch input active powers,</li>
<li><cite>Qij</cite> containing branch input reactive powers,</li>
<li><cite>Pji</cite> containing branch output active powers,</li>
<li><cite>Qji</cite> containing branch output reactive powers.</li>
</ul>
<p>Here, <cite>Qij</cite> and <cite>Qji</cite> are <cite>None</cite>. <cite>Pji</cite> is equal to <cite>-Pij</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scaled</strong> (<em>boolean</em>) &#8211; specifies whether output power flows have to be scaled
or not</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">4 M-long vector, where M is the number of branches<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Pij:</th><td class="field-body">vector of active powers entering the branch from the from-bus
termination</td>
</tr>
<tr class="field-even field"><th class="field-name">Qij:</th><td class="field-body">None</td>
</tr>
<tr class="field-odd field"><th class="field-name">Pji:</th><td class="field-body">vector of active powers entering the branch from the to-bus
termination</td>
</tr>
<tr class="field-even field"><th class="field-name">Qji:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">mixed tuple of None and one-dimensional numpy arrays of float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.loadflow.DirectLoadFlowCalculator.get_branch_max_currents">
<code class="descname">get_branch_max_currents</code><span class="sig-paren">(</span><em>self</em>, <em>scaled</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.loadflow.DirectLoadFlowCalculator.get_branch_max_currents" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns active powers entering the branch from the from-bus termination.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scaled</strong> (<em>boolean</em>) &#8211; specifies whether output power flows have to be scaled
or not</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a M-long vector of active powers entering the branch from the
from-bus termination, where M is the number of branches</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This function is currently untested.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.electrical.loadflow.NewtonRaphsonLoadFlowCalculator">
<em class="property">class </em><code class="descclassname">gridsim.electrical.loadflow.</code><code class="descname">NewtonRaphsonLoadFlowCalculator</code><span class="sig-paren">(</span><em>*args</em>, <em>**keywords</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.loadflow.NewtonRaphsonLoadFlowCalculator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator" title="gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator"><code class="xref py py-class docutils literal"><span class="pre">gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator</span></code></a></p>
<p>This class implements the Newton-Raphson method to solve the power-flow
problem.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://en.wikipedia.org/wiki/Power-flow_study#Power-flow_problem_formulation">http://en.wikipedia.org/wiki/Power-flow_study#Power-flow_problem_formulation</a>.</p>
</div>
<p>At initialization the user has to give the reference power value
<cite>s_base</cite> (all power values are then given relative to this reference
value), the reference voltage value <cite>v_base</cite> (all voltage values are
then given relative to this reference value), a boolean array <cite>is_PV</cite>
specifying which one among the buses is a <a class="reference internal" href="#gridsim.electrical.network.ElectricalPVBus" title="gridsim.electrical.network.ElectricalPVBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPVBus</span></code></a>
(the bus with 1st position is slack, the others non
<a class="reference internal" href="#gridsim.electrical.network.ElectricalPVBus" title="gridsim.electrical.network.ElectricalPVBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPVBus</span></code></a> are <a class="reference internal" href="#gridsim.electrical.network.ElectricalPQBus" title="gridsim.electrical.network.ElectricalPQBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPQBus</span></code></a>), an integer
array <cite>b</cite> specifying for each branch the bus id it is starting from and
the bus id it is going to, a complex array <cite>Yb</cite> specifying
admittances of each network branch.</p>
<dl class="method">
<dt id="gridsim.electrical.loadflow.NewtonRaphsonLoadFlowCalculator.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>self</em>, <em>s_base</em>, <em>v_base</em>, <em>is_PV</em>, <em>b</em>, <em>Yb</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.loadflow.NewtonRaphsonLoadFlowCalculator.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates values of the calculator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>s_base</strong> (<em>float</em>) &#8211; reference power value</li>
<li><strong>v_base</strong> (<em>float</em>) &#8211; reference voltage value</li>
<li><strong>is_PV</strong> (<em>1-dimensional numpy array of boolean</em>) &#8211; N-long vector specifying which bus is of type
<a class="reference internal" href="#gridsim.electrical.network.ElectricalPVBus" title="gridsim.electrical.network.ElectricalPVBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPVBus</span></code></a>, where N is the number of buses including
slack.</li>
<li><strong>b</strong> (<em>2-dimensional numpy array of int</em>) &#8211; Mx2 table containing for each branch the ids of start and end
buses.</li>
<li><strong>Yb</strong> (<em>2-dimensional numpy array of complex</em>) &#8211; Mx4 table containing the admittances <cite>Yii</cite>, <cite>Yij</cite>, <cite>Yjj</cite>,
and <cite>Yji</cite> of each branch.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.loadflow.NewtonRaphsonLoadFlowCalculator.calculate">
<code class="descname">calculate</code><span class="sig-paren">(</span><em>self</em>, <em>P</em>, <em>Q</em>, <em>V</em>, <em>Th</em>, <em>scaled</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.loadflow.NewtonRaphsonLoadFlowCalculator.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute all bus electrical values determined by the network, i.e</p>
<ul class="simple">
<li>takes as input active powers <cite>P</cite> of all non-slack buses, reactive
powers of <a class="reference internal" href="#gridsim.electrical.network.ElectricalPQBus" title="gridsim.electrical.network.ElectricalPQBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPQBus</span></code></a> and voltage amplitudes of
<a class="reference internal" href="#gridsim.electrical.network.ElectricalPVBus" title="gridsim.electrical.network.ElectricalPVBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPVBus</span></code></a>; all these values have to be placed by the
user at the right place in the N-long vectors, <cite>P</cite>, <cite>Q</cite>, and,
respectively, <cite>V</cite>, passed to this method</li>
<li>outputs active power of slack bus, reactive powers of
<a class="reference internal" href="#gridsim.electrical.network.ElectricalPVBus" title="gridsim.electrical.network.ElectricalPVBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPVBus</span></code></a>, voltage amplitudes of
<a class="reference internal" href="#gridsim.electrical.network.ElectricalPQBus" title="gridsim.electrical.network.ElectricalPQBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalPQBus</span></code></a>, and voltage angles of all buses; all these
values are placed by this method at the right place in the N-long
vectors <cite>P</cite>, <cite>Q</cite>, <cite>V</cite>, and, respectively, Th, passed to this method.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>P</strong> (<em>1-dimensional numpy array of float</em>) &#8211; N-long vector of bus active powers, where N is the number of
buses including slack.</li>
<li><strong>Q</strong> (<em>1-dimensional numpy array of float</em>) &#8211; N-long vector of bus reactive powers, where N is the number of
buses including slack.</li>
<li><strong>V</strong> (<em>1-dimensional numpy array of float</em>) &#8211; N-long vector of bus voltage amplitudes, where N is the number
of buses including slack.</li>
<li><strong>Th</strong> (<em>1-dimensional numpy array of float</em>) &#8211; N-long vector of bus voltage angles, where N is the number
of buses including slack.</li>
<li><strong>scaled</strong> (<em>boolean</em>) &#8211; specifies whether electrical input values are scaled
or not</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gridsim.electrical.network">
<span id="electrical-network"></span><h4>2.1.2.3. Electrical network<a class="headerlink" href="#module-gridsim.electrical.network" title="Permalink to this headline">¶</a></h4>
<p><em>Module author: Gillian Basso &lt;<a class="reference external" href="mailto:gillian&#46;basso&#37;&#52;&#48;hevs&#46;ch">gillian<span>&#46;</span>basso<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<p><em>Code author: Gilbert Maitre &lt;<a class="reference external" href="mailto:gilbert&#46;maitre&#37;&#52;&#48;hevs&#46;ch">gilbert<span>&#46;</span>maitre<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<dl class="class">
<dt id="gridsim.electrical.network.ElectricalTransmissionLine">
<em class="property">class </em><code class="descclassname">gridsim.electrical.network.</code><code class="descname">ElectricalTransmissionLine</code><span class="sig-paren">(</span><em>self</em>, <em>friendly_name</em>, <em>length</em>, <em>X</em>, <em>R=0</em>, <em>B=0</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.network.ElectricalTransmissionLine" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.electrical.core.AbstractElectricalTwoPort" title="gridsim.electrical.core.AbstractElectricalTwoPort"><code class="xref py py-class docutils literal"><span class="pre">gridsim.electrical.core.AbstractElectricalTwoPort</span></code></a></p>
<p>Class for representing a transmission line in an electrical network.
Its parameters are linked to the
transmission line PI model represented graphically below:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>                      <span class="n">R</span>              <span class="n">jX</span>
                <span class="o">+-----------+</span>   <span class="o">+-----------+</span>
<span class="n">o</span><span class="o">---&gt;---</span><span class="n">o</span><span class="o">-------|</span>           <span class="o">|---|</span>           <span class="o">|-------</span><span class="n">o</span><span class="o">---&gt;---</span><span class="n">o</span>
        <span class="o">|</span>       <span class="o">+-----------+</span>   <span class="o">+-----------+</span>       <span class="o">|</span>
        <span class="o">|</span>                                           <span class="o">|</span>
      <span class="o">-----</span>  <span class="n">jB</span><span class="o">/</span><span class="mi">2</span>                                 <span class="o">-----</span>  <span class="n">jB</span><span class="o">/</span><span class="mi">2</span>
      <span class="o">-----</span>                                       <span class="o">-----</span>
        <span class="o">|</span>                                           <span class="o">|</span>
        <span class="o">|</span>                                           <span class="o">|</span>
       <span class="o">---</span>                                         <span class="o">---</span>
</pre></div>
</div>
<p>At initialization, in addition to the line <code class="docutils literal"><span class="pre">friendly_name</span></code>,
the line length, the line reactance (<code class="docutils literal"><span class="pre">X</span></code>), line resistance (<code class="docutils literal"><span class="pre">R</span></code>) and
line charging (B) have to be given. <code class="docutils literal"><span class="pre">R</span></code> and <code class="docutils literal"><span class="pre">B</span></code> default to zero.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>friendly_name</strong> (<em>str</em>) &#8211; Friendly name for the line. Should be unique
within the simulation module, i.e. different for example from the
friendly name of a bus.</li>
<li><strong>length</strong> (length, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; Line length.</li>
<li><strong>X</strong> (ohm, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; Line reactance.</li>
<li><strong>R</strong> (ohm, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; Line resistance.</li>
<li><strong>B</strong> (siemens, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; Line charging.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="gridsim.electrical.network.ElectricalTransmissionLine.length">
<code class="descname">length</code><em class="property"> = None</em><a class="headerlink" href="#gridsim.electrical.network.ElectricalTransmissionLine.length" title="Permalink to this definition">¶</a></dt>
<dd><p>The transmission line length.</p>
</dd></dl>

<dl class="attribute">
<dt id="gridsim.electrical.network.ElectricalTransmissionLine.B">
<code class="descname">B</code><em class="property"> = None</em><a class="headerlink" href="#gridsim.electrical.network.ElectricalTransmissionLine.B" title="Permalink to this definition">¶</a></dt>
<dd><p>The transmission line charging.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.electrical.network.ElectricalGenTransformer">
<em class="property">class </em><code class="descclassname">gridsim.electrical.network.</code><code class="descname">ElectricalGenTransformer</code><span class="sig-paren">(</span><em>self</em>, <em>friendly_name</em>, <em>k_factor</em>, <em>X</em>, <em>R=0</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.network.ElectricalGenTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.electrical.core.AbstractElectricalTwoPort" title="gridsim.electrical.core.AbstractElectricalTwoPort"><code class="xref py py-class docutils literal"><span class="pre">gridsim.electrical.core.AbstractElectricalTwoPort</span></code></a></p>
<p>Class for representing a transformer and/or a phase shifter in an
electrical network. Its parameters are
linked to the usual transformer graphical representation below:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>                                                 <span class="mi">1</span><span class="p">:</span><span class="n">K</span>
              <span class="n">R</span>              <span class="n">jX</span>                 <span class="o">-</span>   <span class="o">-</span>
        <span class="o">+-----------+</span>   <span class="o">+-----------+</span>        <span class="o">/</span>   <span class="o">/</span> \   \
<span class="n">o</span><span class="o">---&gt;---|</span>           <span class="o">|---|</span>           <span class="o">|-------|---|--|---|-------&gt;---</span><span class="n">o</span>
        <span class="o">+-----------+</span>   <span class="o">+-----------+</span>       \   \ <span class="o">/</span>   <span class="o">/</span>
                                               <span class="o">-</span>   <span class="o">-</span>
</pre></div>
</div>
<p>While the transformer changes the voltage amplitude, the phase shifter
changes the voltage phase. Accepting a complex <code class="docutils literal"><span class="pre">K_factor</span></code> parameter,
the <a class="reference internal" href="#gridsim.electrical.network.ElectricalGenTransformer" title="gridsim.electrical.network.ElectricalGenTransformer"><code class="xref py py-class docutils literal"><span class="pre">ElectricalGenTransformer</span></code></a> is a common representation for a
transformer and a phase shifter.</p>
<p>At initialization, in addition to the line <code class="docutils literal"><span class="pre">friendly_name</span></code>, the
<code class="docutils literal"><span class="pre">K-factor</span></code>, the reactance (<code class="docutils literal"><span class="pre">X</span></code>), and the resistance (<code class="docutils literal"><span class="pre">R</span></code>) have to be
given. <code class="docutils literal"><span class="pre">R</span></code> defaults to zero.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>friendly_name</strong> (<em>str</em>) &#8211; Friendly name for the transformer or phase
shifter. Should be unique within the simulation module, i.e.
different for example from the friendly name of a bus</li>
<li><strong>k_factor</strong> (<em>complex</em>) &#8211; Transformer or phase shifter K-factor.</li>
<li><strong>X</strong> (ohm, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; Transformer or phase shifter reactance.</li>
<li><strong>R</strong> (ohm, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; Transformer or phase shifter resistance.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="gridsim.electrical.network.ElectricalGenTransformer.k_factor">
<code class="descname">k_factor</code><em class="property"> = None</em><a class="headerlink" href="#gridsim.electrical.network.ElectricalGenTransformer.k_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>The transformer or phase shifter K-factor.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.electrical.network.ElectricalSlackBus">
<em class="property">class </em><code class="descclassname">gridsim.electrical.network.</code><code class="descname">ElectricalSlackBus</code><span class="sig-paren">(</span><em>self</em>, <em>friendly_name</em>, <em>position=Position()</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.network.ElectricalSlackBus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.electrical.core.ElectricalBus" title="gridsim.electrical.core.ElectricalBus"><code class="xref py py-class docutils literal"><span class="pre">gridsim.electrical.core.ElectricalBus</span></code></a></p>
<p>Convenience class to define a Slack Bus.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="core.html#gridsim.electrical.core.ElectricalBus" title="gridsim.electrical.core.ElectricalBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalBus</span></code></a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>friendly_name</strong> (<em>str</em>) &#8211; Friendly name for the element.
Should be unique within the simulation module.</li>
<li><strong>position</strong> (<a class="reference internal" href="tools.html#gridsim.util.Position" title="gridsim.util.Position"><code class="xref py py-class docutils literal"><span class="pre">Position</span></code></a>) &#8211; Bus geographical position.
Defaults to Position default value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="gridsim.electrical.network.ElectricalPVBus">
<em class="property">class </em><code class="descclassname">gridsim.electrical.network.</code><code class="descname">ElectricalPVBus</code><span class="sig-paren">(</span><em>self</em>, <em>friendly_name</em>, <em>position=Position()</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.network.ElectricalPVBus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.electrical.core.ElectricalBus" title="gridsim.electrical.core.ElectricalBus"><code class="xref py py-class docutils literal"><span class="pre">gridsim.electrical.core.ElectricalBus</span></code></a></p>
<p>Convenience class to define a PV Bus.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="core.html#gridsim.electrical.core.ElectricalBus" title="gridsim.electrical.core.ElectricalBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalBus</span></code></a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>friendly_name</strong> (<em>str</em>) &#8211; Friendly name for the element.
Should be unique within the simulation module.</li>
<li><strong>position</strong> (<a class="reference internal" href="tools.html#gridsim.util.Position" title="gridsim.util.Position"><code class="xref py py-class docutils literal"><span class="pre">Position</span></code></a>) &#8211; Bus geographical position.
Defaults to Position default value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="gridsim.electrical.network.ElectricalPQBus">
<em class="property">class </em><code class="descclassname">gridsim.electrical.network.</code><code class="descname">ElectricalPQBus</code><span class="sig-paren">(</span><em>self</em>, <em>friendly_name</em>, <em>position=Position()</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.network.ElectricalPQBus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.electrical.core.ElectricalBus" title="gridsim.electrical.core.ElectricalBus"><code class="xref py py-class docutils literal"><span class="pre">gridsim.electrical.core.ElectricalBus</span></code></a></p>
<p>Convenience class to define a PQ Bus.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="core.html#gridsim.electrical.core.ElectricalBus" title="gridsim.electrical.core.ElectricalBus"><code class="xref py py-class docutils literal"><span class="pre">ElectricalBus</span></code></a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>friendly_name</strong> (<em>str</em>) &#8211; Friendly name for the element.
Should be unique within the simulation module.</li>
<li><strong>position</strong> (<a class="reference internal" href="tools.html#gridsim.util.Position" title="gridsim.util.Position"><code class="xref py py-class docutils literal"><span class="pre">Position</span></code></a>) &#8211; Bus geographical position.
Defaults to Position default value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-gridsim.electrical.element">
<span id="electrical-elements"></span><h4>2.1.2.4. Electrical elements<a class="headerlink" href="#module-gridsim.electrical.element" title="Permalink to this headline">¶</a></h4>
<p><em>Module author: Gillian Basso &lt;<a class="reference external" href="mailto:gillian&#46;basso&#37;&#52;&#48;hevs&#46;ch">gillian<span>&#46;</span>basso<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<p><em>Code author: Gilbert Maitre &lt;<a class="reference external" href="mailto:gilbert&#46;maitre&#37;&#52;&#48;hevs&#46;ch">gilbert<span>&#46;</span>maitre<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<dl class="class">
<dt id="gridsim.electrical.element.ConstantElectricalCPSElement">
<em class="property">class </em><code class="descclassname">gridsim.electrical.element.</code><code class="descname">ConstantElectricalCPSElement</code><span class="sig-paren">(</span><em>self</em>, <em>friendly_name</em>, <em>power</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.element.ConstantElectricalCPSElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.electrical.core.AbstractElectricalCPSElement" title="gridsim.electrical.core.AbstractElectricalCPSElement"><code class="xref py py-class docutils literal"><span class="pre">gridsim.electrical.core.AbstractElectricalCPSElement</span></code></a></p>
<p>This class provides the simplest Consuming-Producing-Storing element
having a constant behavior.</p>
<p>At initialization, the consumed or produced constant <cite>power</cite> has to
be provided beside the element <cite>friendly_name</cite>. Power is positive, if
consumed, negative, if produced. With the &#8216;calculate&#8217; method the
energy consumed or produced during the simulation step is calculated
from the constant power value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>friendly_name</strong> (<em>str</em>) &#8211; Friendly name for the element. Should be unique
within the simulation module.</li>
<li><strong>power</strong> (power, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The constant consumed (if positive) or produced
(if negative) power.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gridsim.electrical.element.ConstantElectricalCPSElement.calculate">
<code class="descname">calculate</code><span class="sig-paren">(</span><em>self</em>, <em>time</em>, <em>delta_time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.element.ConstantElectricalCPSElement.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the element&#8217;s the energy consumed or produced by the element
during the simulation step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>time</strong> (time, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The actual time of the simulator in seconds.</li>
<li><strong>delta_time</strong> (time, , see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The delta time for which the calculation has to be
done in seconds.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.electrical.element.CyclicElectricalCPSElement">
<em class="property">class </em><code class="descclassname">gridsim.electrical.element.</code><code class="descname">CyclicElectricalCPSElement</code><span class="sig-paren">(</span><em>self</em>, <em>friendly_name</em>, <em>cycle_delta_time</em>, <em>power_values</em>, <em>cycle_start_time=0</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.element.CyclicElectricalCPSElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.electrical.core.AbstractElectricalCPSElement" title="gridsim.electrical.core.AbstractElectricalCPSElement"><code class="xref py py-class docutils literal"><span class="pre">gridsim.electrical.core.AbstractElectricalCPSElement</span></code></a></p>
<p>This class provides a Consuming-Producing-Storing element having a
cyclic behavior.</p>
<p>At initialization, beside the element <cite>friendly_name</cite>, the cycle time
resolution <cite>cycle_delta_time</cite>, the cycle sequence of <cite>power_values</cite>,
and the <cite>cycle_start_time</cite> have to be given.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>friendly_name</strong> (<em>str</em>) &#8211; Friendly name for the element. Should be unique
within the simulation module.</li>
<li><strong>cycle_delta_time</strong> (<em>int</em>) &#8211; cycle time resolution value in seconds.</li>
<li><strong>power_values</strong> (<em>1-D numpy array of power</em>) &#8211; power values consumed or produced during a cycle.</li>
<li><strong>cycle_start_time</strong> (<em>int</em>) &#8211; cycle start time in seconds. Defaults to 0.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="gridsim.electrical.element.CyclicElectricalCPSElement.cycle_delta_time">
<code class="descname">cycle_delta_time</code><a class="headerlink" href="#gridsim.electrical.element.CyclicElectricalCPSElement.cycle_delta_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the cycle time resolution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">cycle time resolution.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gridsim.electrical.element.CyclicElectricalCPSElement.power_values">
<code class="descname">power_values</code><a class="headerlink" href="#gridsim.electrical.element.CyclicElectricalCPSElement.power_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the cycle power values array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">cycle power values array.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1-dimensional numpy array of float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gridsim.electrical.element.CyclicElectricalCPSElement.cycle_length">
<code class="descname">cycle_length</code><a class="headerlink" href="#gridsim.electrical.element.CyclicElectricalCPSElement.cycle_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the cycle length in cycle time resolution units.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">cycle length in cycle time resolution units.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gridsim.electrical.element.CyclicElectricalCPSElement.cycle_start_time">
<code class="descname">cycle_start_time</code><a class="headerlink" href="#gridsim.electrical.element.CyclicElectricalCPSElement.cycle_start_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the cycle start time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">cycle start time.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.element.CyclicElectricalCPSElement.calculate">
<code class="descname">calculate</code><span class="sig-paren">(</span><em>self</em>, <em>time</em>, <em>delta_time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.element.CyclicElectricalCPSElement.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the element&#8217;s the energy consumed or produced by the element
during the simulation step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>time</strong> (time, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The actual time of the simulator in seconds.</li>
<li><strong>delta_time</strong> (time, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The delta time for which the calculation has to be
done in seconds.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.electrical.element.UpdatableCyclicElectricalCPSElement">
<em class="property">class </em><code class="descclassname">gridsim.electrical.element.</code><code class="descname">UpdatableCyclicElectricalCPSElement</code><span class="sig-paren">(</span><em>self</em>, <em>friendly_name</em>, <em>cycle_delta_time</em>, <em>power_values</em>, <em>cycle_start_time=0*units.second</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.element.UpdatableCyclicElectricalCPSElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gridsim.electrical.element.CyclicElectricalCPSElement" title="gridsim.electrical.element.CyclicElectricalCPSElement"><code class="xref py py-class docutils literal"><span class="pre">gridsim.electrical.element.CyclicElectricalCPSElement</span></code></a></p>
<p>This class provides a cyclic Consuming-Producing-Storing element for
which the consumed or produced power values may be updated. Update
will take place at next cycle start.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>friendly_name</strong> (<em>str</em>) &#8211; Friendly name for the element.
Should be unique within the simulation module.</li>
<li><strong>cycle_delta_time</strong> (<em>int</em>) &#8211; cycle time resolution value in seconds.</li>
<li><strong>power_values</strong> (<em>1-D numpy array of float</em>) &#8211; power values consumed or produced during a cycle.</li>
<li><strong>cycle_start_time</strong> (<em>int</em>) &#8211; cycle start time in seconds. Defaults to 0.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="gridsim.electrical.element.UpdatableCyclicElectricalCPSElement.power_values">
<code class="descname">power_values</code><a class="headerlink" href="#gridsim.electrical.element.UpdatableCyclicElectricalCPSElement.power_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the cycle power values array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">cycle power values array.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1-dimensional numpy array of float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.element.UpdatableCyclicElectricalCPSElement.calculate">
<code class="descname">calculate</code><span class="sig-paren">(</span><em>self</em>, <em>time</em>, <em>delta_time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.element.UpdatableCyclicElectricalCPSElement.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the element&#8217;s the energy consumed or produced by the element
during the simulation step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>time</strong> (time, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The actual time of the simulator in seconds.</li>
<li><strong>delta_time</strong> (time, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The delta time for which the calculation has to be
done in seconds.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.electrical.element.GaussianRandomElectricalCPSElement">
<em class="property">class </em><code class="descclassname">gridsim.electrical.element.</code><code class="descname">GaussianRandomElectricalCPSElement</code><span class="sig-paren">(</span><em>self</em>, <em>friendly_name</em>, <em>mean_power</em>, <em>standard_deviation</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.element.GaussianRandomElectricalCPSElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.electrical.core.AbstractElectricalCPSElement" title="gridsim.electrical.core.AbstractElectricalCPSElement"><code class="xref py py-class docutils literal"><span class="pre">gridsim.electrical.core.AbstractElectricalCPSElement</span></code></a></p>
<p>This class provides a Consuming-Producing-Storing element having a
random behavior. The consecutive consumed or produced power values
are IID (Independently and Identically Distributed). The distribution
is Gaussian.</p>
<p>At initialization, the <cite>mean_power</cite> and &#8216;standard_distribution&#8217; are
provided beside the element <cite>friendly_name</cite>. If <cite>mean_power</cite> is
positive, the element is in the mean a consumer. If it is negative,
the element is in the mean a producer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>friendly_name</strong> (<em>str</em>) &#8211; Friendly name for the element.
Should be unique within the simulation module.</li>
<li><strong>mean_power</strong> (power, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The mean value of the Gaussian distributed power.</li>
<li><strong>standard_deviation</strong> (power, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The standard deviation of the Gaussian
distributed power.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="gridsim.electrical.element.GaussianRandomElectricalCPSElement.mean_power">
<code class="descname">mean_power</code><a class="headerlink" href="#gridsim.electrical.element.GaussianRandomElectricalCPSElement.mean_power" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the mean value of the Gaussian distributed power.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">mean power value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">power, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gridsim.electrical.element.GaussianRandomElectricalCPSElement.standard_deviation">
<code class="descname">standard_deviation</code><a class="headerlink" href="#gridsim.electrical.element.GaussianRandomElectricalCPSElement.standard_deviation" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the standard deviation of the Gaussian distributed power.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">standard deviation value.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.element.GaussianRandomElectricalCPSElement.calculate">
<code class="descname">calculate</code><span class="sig-paren">(</span><em>self</em>, <em>time</em>, <em>delta_time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.element.GaussianRandomElectricalCPSElement.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the element&#8217;s the energy consumed or produced by the element
during the simulation step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>time</strong> (time, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The actual time of the simulator in seconds.</li>
<li><strong>delta_time</strong> (time, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The delta time for which the calculation has to be
done in seconds.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.electrical.element.TimeSeriesElectricalCPSElement">
<em class="property">class </em><code class="descclassname">gridsim.electrical.element.</code><code class="descname">TimeSeriesElectricalCPSElement</code><span class="sig-paren">(</span><em>self</em>, <em>friendly_name</em>, <em>reader</em>, <em>stream</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.element.TimeSeriesElectricalCPSElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.electrical.core.AbstractElectricalCPSElement" title="gridsim.electrical.core.AbstractElectricalCPSElement"><code class="xref py py-class docutils literal"><span class="pre">gridsim.electrical.core.AbstractElectricalCPSElement</span></code></a></p>
<p>This class provides a Consuming-Producing-Storing element whose consumed
or produced power is read from a stream by the given reader.</p>
<p>The presence of a column named <cite>column_name</cite> is assumed in the
<a class="reference internal" href="tools.html#gridsim.timeseries.TimeSeries" title="gridsim.timeseries.TimeSeries"><code class="xref py py-class docutils literal"><span class="pre">TimeSeries</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>friendly_name</strong> (<em>str</em>) &#8211; Friendly name for the element.
Should be unique within the simulation module.</li>
<li><strong>time_series</strong> (<a class="reference internal" href="tools.html#gridsim.timeseries.TimeSeries" title="gridsim.timeseries.TimeSeries"><code class="xref py py-class docutils literal"><span class="pre">TimeSeries</span></code></a>) &#8211; The time series</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gridsim.electrical.element.TimeSeriesElectricalCPSElement.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.element.TimeSeriesElectricalCPSElement.reset" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="core.html#gridsim.core.AbstractSimulationElement.reset" title="gridsim.core.AbstractSimulationElement.reset"><code class="xref py py-func docutils literal"><span class="pre">gridsim.core.AbstractSimulationElement.reset()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.element.TimeSeriesElectricalCPSElement.calculate">
<code class="descname">calculate</code><span class="sig-paren">(</span><em>*args</em>, <em>**keywords</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.element.TimeSeriesElectricalCPSElement.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the energy consumed or produced by the element during the
simulation step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>time</strong> (time, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The actual time of the simulator in seconds.</li>
<li><strong>delta_time</strong> (time, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The delta time for which the calculation has to be
done in seconds.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.electrical.element.AnyIIDRandomElectricalCPSElement">
<em class="property">class </em><code class="descclassname">gridsim.electrical.element.</code><code class="descname">AnyIIDRandomElectricalCPSElement</code><span class="sig-paren">(</span><em>self</em>, <em>friendly_name</em>, <em>fname_or_power_values</em>, <em>frequencies=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.element.AnyIIDRandomElectricalCPSElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.electrical.core.AbstractElectricalCPSElement" title="gridsim.electrical.core.AbstractElectricalCPSElement"><code class="xref py py-class docutils literal"><span class="pre">gridsim.electrical.core.AbstractElectricalCPSElement</span></code></a></p>
<p>This class provides a Consuming-Producing-Storing element having a
random behavior. The consecutive consumed or produced power values
are IID (Independently and Identically Distributed). The distribution,
discrete and finite, is given as parameter.</p>
<p>Beside the element <code class="docutils literal"><span class="pre">friendly_name</span></code>, the constructor parameters are
either the name of the file the distribution has to be read from, either
the potentially consumed or produced <code class="docutils literal"><span class="pre">power_values</span></code>,together with their
<code class="docutils literal"><span class="pre">frequencies</span></code> or probabilities. Input <code class="docutils literal"><span class="pre">power</span> <span class="pre">values</span></code> has to be a
monotonically increasing sequence of float. Input &#8216;frequencies&#8217; can be
either integers (number of occurrences), or floats summing to 1.0
(relative frequencies or probabilities), or monotonically increasing
sequence of positive floats ending with 1.0 (cumulative relative
frequencies or probabilities)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>friendly_name</strong> (<em>str</em>) &#8211; Friendly name for the element.
Should be unique within the simulation module.</li>
<li><strong>fname_or_power_values</strong> (<em>either string or 1-D numpy array of float</em>) &#8211; Name of the file from which the
distribution has to be read or Power values which may be consumed
(positive) or produced (negative), ordered in a monotonically
increasing sequence.</li>
<li><strong>frequencies</strong> (<em>None or 1-D numpy array of integer or float</em>) &#8211; Number of occurrences (frequencies), or relative
frequencies, or cumulative relative frequencies of corresponding
power values, if those are given as second parameter, None if
filename is given as 2nd parameter</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="gridsim.electrical.element.AnyIIDRandomElectricalCPSElement.power_values">
<code class="descname">power_values</code><a class="headerlink" href="#gridsim.electrical.element.AnyIIDRandomElectricalCPSElement.power_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the sequence of power values which may occur.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">sequence of potentially occurring power values.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1-dimensional numpy array of float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="gridsim.electrical.element.AnyIIDRandomElectricalCPSElement.cdf">
<code class="descname">cdf</code><a class="headerlink" href="#gridsim.electrical.element.AnyIIDRandomElectricalCPSElement.cdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the cumulative relative frequencies of the potentially occurring
power values. It can be considered as the Cumulative Distribution
Function (CDF).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">cumulative relative frequencies corresponding to power values.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">1-dimensional numpy array of float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.electrical.element.AnyIIDRandomElectricalCPSElement.calculate">
<code class="descname">calculate</code><span class="sig-paren">(</span><em>time</em>, <em>delta_time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.electrical.element.AnyIIDRandomElectricalCPSElement.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the element&#8217;s the energy consumed or produced by the element
during the simulation step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>time</strong> (<em>float</em>) &#8211; The actual time of the simulator in seconds.</li>
<li><strong>delta_time</strong> (<em>float</em>) &#8211; The delta time for which the calculation has to be
done in seconds.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-gridsim.cyberphysical">
<span id="cyber-physical-simulation"></span><span id="gridsim-cyberphysical-simu"></span><h3>2.1.3. Cyber-physical simulation<a class="headerlink" href="#module-gridsim.cyberphysical" title="Permalink to this headline">¶</a></h3>
<p><em>Module author: Dominique Gabioud &lt;<a class="reference external" href="mailto:dominique&#46;gabioud&#37;&#52;&#48;hevs&#46;ch">dominique<span>&#46;</span>gabioud<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<p><em>Module author: Gillian Basso &lt;<a class="reference external" href="mailto:gillian&#46;basso&#37;&#52;&#48;hevs&#46;ch">gillian<span>&#46;</span>basso<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<p><em>Module author: Yann Maret &lt;<a class="reference external" href="mailto:yann&#46;maret&#37;&#52;&#48;hevs&#46;ch">yann<span>&#46;</span>maret<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<p>The <a class="reference internal" href="#module-gridsim.cyberphysical" title="gridsim.cyberphysical"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.cyberphysical</span></code></a> module implements the connection to real
devices for gridsim simulator.</p>
<p>Here is the class diagram of the cyber-physic package:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/model-cyberphysical.png"><img alt="_images/model-cyberphysical.png" src="_images/model-cyberphysical.png" style="width: 957.0px; height: 811.0px;" /></a>
</div>
<div class="section" id="module-gridsim.cyberphysical.simulation">
<span id="cyber-physical-package"></span><h4>2.1.3.1. Cyber-physical package<a class="headerlink" href="#module-gridsim.cyberphysical.simulation" title="Permalink to this headline">¶</a></h4>
<p><em>Code author: Yann Maret &lt;<a class="reference external" href="mailto:yann&#46;maret&#37;&#52;&#48;hevs&#46;ch">yann<span>&#46;</span>maret<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<dl class="class">
<dt id="gridsim.cyberphysical.simulation.CyberPhysicalModuleListener">
<em class="property">class </em><code class="descclassname">gridsim.cyberphysical.simulation.</code><code class="descname">CyberPhysicalModuleListener</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.CyberPhysicalModuleListener" title="Permalink to this definition">¶</a></dt>
<dd><p>This Listener is informed when the module start an action (read, write) or at the initialisation
(<a class="reference internal" href="#gridsim.cyberphysical.simulation.CyberPhysicalModule.reset" title="gridsim.cyberphysical.simulation.CyberPhysicalModule.reset"><code class="xref py py-func docutils literal"><span class="pre">CyberPhysicalModule.reset()</span></code></a>) or the end (<a class="reference internal" href="#gridsim.cyberphysical.simulation.CyberPhysicalModule.end" title="gridsim.cyberphysical.simulation.CyberPhysicalModule.end"><code class="xref py py-func docutils literal"><span class="pre">CyberPhysicalModule.end()</span></code></a>) of a step.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This interface does not extend <code class="docutils literal"><span class="pre">object</span></code> class. As its implementation should implements
another class (e.g. <code class="xref py py-class docutils literal"><span class="pre">ParamListener</span></code>), a
<a class="reference external" href="https://en.wikipedia.org/wiki/Multiple_inheritance#The_diamond_problem">diamond problem</a>
could arise.</p>
</div>
<dl class="method">
<dt id="gridsim.cyberphysical.simulation.CyberPhysicalModuleListener.cyberphysical_read_begin">
<code class="descname">cyberphysical_read_begin</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.CyberPhysicalModuleListener.cyberphysical_read_begin" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the module when the Read begin.</p>
</dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.simulation.CyberPhysicalModuleListener.cyberphysical_read_end">
<code class="descname">cyberphysical_read_end</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.CyberPhysicalModuleListener.cyberphysical_read_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the module when the Read end.</p>
</dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.simulation.CyberPhysicalModuleListener.cyberphysical_write_begin">
<code class="descname">cyberphysical_write_begin</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.CyberPhysicalModuleListener.cyberphysical_write_begin" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the module when the Write begin.</p>
</dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.simulation.CyberPhysicalModuleListener.cyberphysical_write_end">
<code class="descname">cyberphysical_write_end</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.CyberPhysicalModuleListener.cyberphysical_write_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the module when the Write end.</p>
</dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.simulation.CyberPhysicalModuleListener.cyberphysical_module_begin">
<code class="descname">cyberphysical_module_begin</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.CyberPhysicalModuleListener.cyberphysical_module_begin" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the module when the simulation begin.</p>
</dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.simulation.CyberPhysicalModuleListener.cyberphysical_module_end">
<code class="descname">cyberphysical_module_end</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.CyberPhysicalModuleListener.cyberphysical_module_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the module when the simulation end.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.cyberphysical.simulation.CyberPhysicalModule">
<em class="property">class </em><code class="descclassname">gridsim.cyberphysical.simulation.</code><code class="descname">CyberPhysicalModule</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.CyberPhysicalModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.core.AbstractSimulationModule" title="gridsim.core.AbstractSimulationModule"><code class="xref py py-class docutils literal"><span class="pre">gridsim.core.AbstractSimulationModule</span></code></a></p>
<p>CyberPhysicalModule registers <code class="xref py py-class docutils literal"><span class="pre">AbstractCyberPhysicalSystem</span></code> (which are
<code class="xref py py-class docutils literal"><span class="pre">gridsim.core.AbstractSimulationElement)</span> <span class="pre">and</span> <span class="pre">calls</span>
<span class="pre">:func:`gridsim.core.AbstractSimulationElement.calculate</span></code> and
<a class="reference internal" href="core.html#gridsim.core.AbstractSimulationElement.update" title="gridsim.core.AbstractSimulationElement.update"><code class="xref py py-func docutils literal"><span class="pre">gridsim.core.AbstractSimulationElement.update()</span></code></a> when the simulation is running.
It informs all the subscribers, when a Read and Write start and end.
This allows easy logging at the end of a cycle.</p>
<dl class="method">
<dt id="gridsim.cyberphysical.simulation.CyberPhysicalModule.add_actor_listener">
<code class="descname">add_actor_listener</code><span class="sig-paren">(</span><em>self</em>, <em>acps</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.CyberPhysicalModule.add_actor_listener" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an <code class="xref py py-class docutils literal"><span class="pre">gridsim.core.AbstractCyberPhysicalSystem</span></code> to the module list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>acps</strong> &#8211; <code class="xref py py-class docutils literal"><span class="pre">gridsim.cyberphysical.external.AbstractCyberPhysicalSystem</span></code> to register the the module</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the <code class="xref py py-class docutils literal"><span class="pre">gridsim.cyberphysical.external.AbstractCyberPhysicalSystem</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.simulation.CyberPhysicalModule.add_module_listener">
<code class="descname">add_module_listener</code><span class="sig-paren">(</span><em>self</em>, <em>actor</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.CyberPhysicalModule.add_module_listener" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a <a class="reference internal" href="#gridsim.cyberphysical.simulation.CyberPhysicalModuleListener" title="gridsim.cyberphysical.simulation.CyberPhysicalModuleListener"><code class="xref py py-class docutils literal"><span class="pre">CyberPhysicalModuleListener</span></code></a> to the module , calls the listener when the simulation starts,
stops, or do an action (read or write).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>listener</strong> &#8211; <a class="reference internal" href="#gridsim.cyberphysical.simulation.CyberPhysicalModuleListener" title="gridsim.cyberphysical.simulation.CyberPhysicalModuleListener"><code class="xref py py-class docutils literal"><span class="pre">CyberPhysicalModuleListener</span></code></a> to notify the status of the simulation</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the <a class="reference internal" href="#gridsim.cyberphysical.simulation.CyberPhysicalModuleListener" title="gridsim.cyberphysical.simulation.CyberPhysicalModuleListener"><code class="xref py py-class docutils literal"><span class="pre">CyberPhysicalModuleListener</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.simulation.CyberPhysicalModule.attribute_name">
<code class="descname">attribute_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.CyberPhysicalModule.attribute_name" title="Permalink to this definition">¶</a></dt>
<dd><p>attribut_name(self)</p>
<p>Returns the name of this module.
This name is used to access to this electrical simulator from the
<a class="reference internal" href="#gridsim.simulation.Simulator" title="gridsim.simulation.Simulator"><code class="xref py py-class docutils literal"><span class="pre">Simulator</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Create the simulation.</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">()</span>
<span class="n">the_sim</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">cyberphysical</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">&#8216;cyberphysical&#8217;</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.simulation.CyberPhysicalModule.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.CyberPhysicalModule.reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.simulation.CyberPhysicalModule.calculate">
<code class="descname">calculate</code><span class="sig-paren">(</span><em>time</em>, <em>delta_time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.CyberPhysicalModule.calculate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.simulation.CyberPhysicalModule.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>time</em>, <em>delta_time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.CyberPhysicalModule.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.simulation.CyberPhysicalModule.end">
<code class="descname">end</code><span class="sig-paren">(</span><em>time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.CyberPhysicalModule.end" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.cyberphysical.simulation.MinimalCyberPhysicalModule">
<em class="property">class </em><code class="descclassname">gridsim.cyberphysical.simulation.</code><code class="descname">MinimalCyberPhysicalModule</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.MinimalCyberPhysicalModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.core.AbstractSimulationModule" title="gridsim.core.AbstractSimulationModule"><code class="xref py py-class docutils literal"><span class="pre">gridsim.core.AbstractSimulationModule</span></code></a></p>
<p>This module is used to get the update and calculate function from the simulation.
This is useful to synchronize an <code class="xref py py-class docutils literal"><span class="pre">gridsim.cyberphysical.external.Actor</span></code> with the current step (time) of
the simulation. This class calls all the listeners and informs them for a step of simulation which include when
a <a class="reference internal" href="core.html#gridsim.core.AbstractSimulationElement.calculate" title="gridsim.core.AbstractSimulationElement.calculate"><code class="xref py py-func docutils literal"><span class="pre">gridsim.core.AbstractSimulationElement.calculate()</span></code></a> and
<a class="reference internal" href="core.html#gridsim.core.AbstractSimulationElement.update" title="gridsim.core.AbstractSimulationElement.update"><code class="xref py py-func docutils literal"><span class="pre">gridsim.core.AbstractSimulationElement.update()</span></code></a> functions are called.</p>
<dl class="method">
<dt id="gridsim.cyberphysical.simulation.MinimalCyberPhysicalModule.add_element">
<code class="descname">add_element</code><span class="sig-paren">(</span><em>*args</em>, <em>**keywords</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.MinimalCyberPhysicalModule.add_element" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.simulation.MinimalCyberPhysicalModule.attribute_name">
<code class="descname">attribute_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.MinimalCyberPhysicalModule.attribute_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.simulation.MinimalCyberPhysicalModule.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.MinimalCyberPhysicalModule.reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.simulation.MinimalCyberPhysicalModule.calculate">
<code class="descname">calculate</code><span class="sig-paren">(</span><em>time</em>, <em>delta_time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.MinimalCyberPhysicalModule.calculate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.simulation.MinimalCyberPhysicalModule.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>time</em>, <em>delta_time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.simulation.MinimalCyberPhysicalModule.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gridsim.cyberphysical.element">
<span id="cyber-physical-elements"></span><h4>2.1.3.2. Cyber-physical elements<a class="headerlink" href="#module-gridsim.cyberphysical.element" title="Permalink to this headline">¶</a></h4>
<p><em>Code author: Yann Maret &lt;<a class="reference external" href="mailto:yann&#46;maret&#37;&#52;&#48;hevs&#46;ch">yann<span>&#46;</span>maret<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<dl class="class">
<dt id="gridsim.cyberphysical.element.Actor">
<em class="property">class </em><code class="descclassname">gridsim.cyberphysical.element.</code><code class="descname">Actor</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.element.Actor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.cyberphysical.core.Callable" title="gridsim.cyberphysical.core.Callable"><code class="xref py py-class docutils literal"><span class="pre">gridsim.cyberphysical.core.Callable</span></code></a>, <a class="reference internal" href="core.html#gridsim.cyberphysical.core.ParamListener" title="gridsim.cyberphysical.core.ParamListener"><code class="xref py py-class docutils literal"><span class="pre">gridsim.cyberphysical.core.ParamListener</span></code></a></p>
<p>An actor represents a (set of) virtual device. Therefore it has to communicate with a real device to send energy
to a real network. To do so, it has to be connected to <a class="reference internal" href="core.html#gridsim.cyberphysical.core.ReadParam" title="gridsim.cyberphysical.core.ReadParam"><code class="xref py py-class docutils literal"><span class="pre">gridsim.cyberphysical.core.ReadParam</span></code></a> to receive
data from real device and connected to <a class="reference internal" href="core.html#gridsim.cyberphysical.core.WriteParam" title="gridsim.cyberphysical.core.WriteParam"><code class="xref py py-class docutils literal"><span class="pre">gridsim.cyberphysical.core.WriteParam</span></code></a> to influence a device.
This is done by a registration to an <a class="reference internal" href="#gridsim.cyberphysical.element.AbstractCyberPhysicalSystem" title="gridsim.cyberphysical.element.AbstractCyberPhysicalSystem"><code class="xref py py-class docutils literal"><span class="pre">AbstractCyberPhysicalSystem</span></code></a>. This registration also adds the
<a class="reference internal" href="#gridsim.cyberphysical.element.Actor" title="gridsim.cyberphysical.element.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a> to the simulation.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">More details about <a class="reference internal" href="#gridsim.cyberphysical.element.Actor" title="gridsim.cyberphysical.element.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a> can be found at <a class="reference internal" href="actor.html#gridsim-actor"><span class="std std-ref">The Actors</span></a>.</p>
</div>
<dl class="method">
<dt id="gridsim.cyberphysical.element.Actor.notify_read_param">
<code class="descname">notify_read_param</code><span class="sig-paren">(</span><em>self</em>, <em>read_param</em>, <em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.element.Actor.notify_read_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Notifies the listener that a new value from the simulator has been updated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>read_param</strong> &#8211; paramtype id of the data notified</li>
<li><strong>data</strong> &#8211; data updated itself</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.element.Actor.get_value">
<code class="descname">get_value</code><span class="sig-paren">(</span><em>self</em>, <em>write_param</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.element.Actor.get_value" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is called by the simulation each time a new value is required with
the <code class="docutils literal"><span class="pre">write_param</span></code> id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>write_param</strong> &#8211; The id of the <a class="reference internal" href="core.html#gridsim.cyberphysical.core.WriteParam" title="gridsim.cyberphysical.core.WriteParam"><code class="xref py py-class docutils literal"><span class="pre">gridsim.cyberphysical.core.WriteParam</span></code></a> associated with the return
value</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">value that correspond to the given <a class="reference internal" href="core.html#gridsim.cyberphysical.core.WriteParam" title="gridsim.cyberphysical.core.WriteParam"><code class="xref py py-class docutils literal"><span class="pre">gridsim.cyberphysical.core.WriteParam</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.cyberphysical.element.AbstractCyberPhysicalSystem">
<em class="property">class </em><code class="descclassname">gridsim.cyberphysical.element.</code><code class="descname">AbstractCyberPhysicalSystem</code><span class="sig-paren">(</span><em>self</em>, <em>friendly_name</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.element.AbstractCyberPhysicalSystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.core.AbstractSimulationElement" title="gridsim.core.AbstractSimulationElement"><code class="xref py py-class docutils literal"><span class="pre">gridsim.core.AbstractSimulationElement</span></code></a></p>
<p>An <a class="reference internal" href="#gridsim.cyberphysical.element.AbstractCyberPhysicalSystem" title="gridsim.cyberphysical.element.AbstractCyberPhysicalSystem"><code class="xref py py-class docutils literal"><span class="pre">AbstractCyberPhysicalSystem</span></code></a> creates ReadParam and WriteParam to communicate with real devices.
Actors can be registered to an <a class="reference internal" href="#gridsim.cyberphysical.element.AbstractCyberPhysicalSystem" title="gridsim.cyberphysical.element.AbstractCyberPhysicalSystem"><code class="xref py py-class docutils literal"><span class="pre">AbstractCyberPhysicalSystem</span></code></a> to influence the real device the
<a class="reference internal" href="#gridsim.cyberphysical.element.AbstractCyberPhysicalSystem" title="gridsim.cyberphysical.element.AbstractCyberPhysicalSystem"><code class="xref py py-class docutils literal"><span class="pre">AbstractCyberPhysicalSystem</span></code></a> is connected.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>friendly_name</strong> &#8211; give a friendly name for the element in the simulation</li>
<li><strong>converters</strong> &#8211; Dict of Converter function for the write params</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>self</em>, <em>actor</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an actor to the system and register it with the ReadParam and WriteParam
that it wants to be connected.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>actor</strong> &#8211; <a class="reference internal" href="#gridsim.cyberphysical.element.Actor" title="gridsim.cyberphysical.element.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a> to register in the system</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the <a class="reference internal" href="#gridsim.cyberphysical.element.Actor" title="gridsim.cyberphysical.element.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.physical_read_regulation">
<code class="descname">physical_read_regulation</code><span class="sig-paren">(</span><em>*args</em>, <em>**keywords</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.physical_read_regulation" title="Permalink to this definition">¶</a></dt>
<dd><p>physical_read_regulation(self, write_param):</p>
<p>This is the measure value for regulator</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">read value from physical device</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.physical_read_params">
<code class="descname">physical_read_params</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.physical_read_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the data on the system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">read data list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.physical_converter_params">
<code class="descname">physical_converter_params</code><span class="sig-paren">(</span><em>self</em>, <em>write_params</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.physical_converter_params" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>write_params</strong> &#8211; list of data to convert</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of data converted</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.physical_regulation_params">
<code class="descname">physical_regulation_params</code><span class="sig-paren">(</span><em>self</em>, <em>write_params</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.physical_regulation_params" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>write_params</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.physical_write_params">
<code class="descname">physical_write_params</code><span class="sig-paren">(</span><em>self</em>, <em>write_params</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.physical_write_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the data to the system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>write_params</strong> &#8211; map of {id:datas} to write to the cyberphysical system</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.init_regulator">
<code class="descname">init_regulator</code><span class="sig-paren">(</span><em>write_params</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.init_regulator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.regulation">
<code class="descname">regulation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.regulation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Nothing to reset.</p>
</dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.calculate">
<code class="descname">calculate</code><span class="sig-paren">(</span><em>self</em>, <em>t</em>, <em>dt</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads all <code class="xref py py-class docutils literal"><span class="pre">ReadParam</span></code> on the system and inform the updated values to all <a class="reference internal" href="#gridsim.cyberphysical.element.Actor" title="gridsim.cyberphysical.element.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>self</em>, <em>time</em>, <em>delta_time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.element.AbstractCyberPhysicalSystem.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets aggregated values from <a class="reference internal" href="#gridsim.cyberphysical.element.Actor" title="gridsim.cyberphysical.element.Actor"><code class="xref py py-class docutils literal"><span class="pre">Actor</span></code></a> and write them on the system.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gridsim.cyberphysical.aggregator">
<span id="cyber-physical-aggregator"></span><h4>2.1.3.3. Cyber-physical aggregator<a class="headerlink" href="#module-gridsim.cyberphysical.aggregator" title="Permalink to this headline">¶</a></h4>
<p><em>Code author: Yann Maret &lt;<a class="reference external" href="mailto:yann&#46;maret&#37;&#52;&#48;hevs&#46;ch">yann<span>&#46;</span>maret<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<dl class="class">
<dt id="gridsim.cyberphysical.aggregator.SumAggregator">
<em class="property">class </em><code class="descclassname">gridsim.cyberphysical.aggregator.</code><code class="descname">SumAggregator</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.aggregator.SumAggregator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.cyberphysical.core.Aggregator" title="gridsim.cyberphysical.core.Aggregator"><code class="xref py py-class docutils literal"><span class="pre">gridsim.cyberphysical.core.Aggregator</span></code></a></p>
<p>Sum Aggregator class. This takes all the value and make a simple sum over them and return
the result.</p>
<dl class="method">
<dt id="gridsim.cyberphysical.aggregator.SumAggregator.call">
<code class="descname">call</code><span class="sig-paren">(</span><em>self</em>, <em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.aggregator.SumAggregator.call" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregate the data with a sum and return the result</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> &#8211; list of data to aggregate, in this case it&#8217;s a sum</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the sum of the given list value</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.cyberphysical.aggregator.MeanAggregator">
<em class="property">class </em><code class="descclassname">gridsim.cyberphysical.aggregator.</code><code class="descname">MeanAggregator</code><span class="sig-paren">(</span><em>self</em>, <em>limit_min</em>, <em>limit_max</em>, <em>default</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.aggregator.MeanAggregator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.cyberphysical.core.Aggregator" title="gridsim.cyberphysical.core.Aggregator"><code class="xref py py-class docutils literal"><span class="pre">gridsim.cyberphysical.core.Aggregator</span></code></a></p>
<p>Mean Aggregator class. This does the average value after calling the SumAggregator &#8216;call&#8217; function</p>
<dl class="method">
<dt id="gridsim.cyberphysical.aggregator.MeanAggregator.call">
<code class="descname">call</code><span class="sig-paren">(</span><em>*args</em>, <em>**keywords</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.cyberphysical.aggregator.MeanAggregator.call" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-gridsim.thermal">
<span id="thermal-simulation"></span><span id="gridsim-thermal-simu"></span><h3>2.1.4. Thermal simulation<a class="headerlink" href="#module-gridsim.thermal" title="Permalink to this headline">¶</a></h3>
<p>The thermal simulation module offers a very abstract thermal simulation. The
simulation is based on the thermal capacity of a thermal process (envelope)
and the energy flows between those processes via thermal couplings that result
as consequence of the temperature differences between the thermal processes and
the thermal conductivity of the couplings between them.</p>
<p><em>Example</em>:</p>
<div class="highlight-default"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gridsim.unit</span> <span class="k">import</span> <span class="n">units</span>
<span class="kn">from</span> <span class="nn">gridsim.simulation</span> <span class="k">import</span> <span class="n">Simulator</span>
<span class="kn">from</span> <span class="nn">gridsim.recorder</span> <span class="k">import</span> <span class="n">PlotRecorder</span>
<span class="kn">from</span> <span class="nn">gridsim.thermal.core</span> <span class="k">import</span> <span class="n">ThermalProcess</span><span class="p">,</span> <span class="n">ThermalCoupling</span>
<span class="kn">from</span> <span class="nn">gridsim.thermal.element</span> <span class="k">import</span> <span class="n">TimeSeriesThermalProcess</span>
<span class="kn">from</span> <span class="nn">gridsim.timeseries</span> <span class="k">import</span> <span class="n">SortedConstantStepTimeSeriesObject</span>
<span class="kn">from</span> <span class="nn">gridsim.iodata.input</span> <span class="k">import</span> <span class="n">CSVReader</span>
<span class="kn">from</span> <span class="nn">gridsim.iodata.output</span> <span class="k">import</span> <span class="n">FigureSaver</span><span class="p">,</span> <span class="n">CSVSaver</span>

<span class="c1"># Gridsim simulator.</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">()</span>

<span class="c1"># Create a simple thermal process: A room thermal coupling between the room and</span>
<span class="c1"># the outside temperature.</span>
<span class="c1">#    ___________</span>
<span class="c1">#   |           |</span>
<span class="c1">#   |   room    |</span>
<span class="c1">#   |    20 C   |            outside &lt;= example time series (CSV) file</span>
<span class="c1">#   |           |]- 3 W/K</span>
<span class="c1">#   |___________|</span>
<span class="c1">#</span>
<span class="n">celsius</span> <span class="o">=</span> <span class="n">units</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">degC</span><span class="p">)</span>
<span class="n">room</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ThermalProcess</span><span class="o">.</span><span class="n">room</span><span class="p">(</span><span class="s1">&#39;room&#39;</span><span class="p">,</span>
                                           <span class="mi">50</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">meter</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">meter</span><span class="p">,</span>
                                           <span class="mf">2.5</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">metre</span><span class="p">,</span>
                                           <span class="n">units</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">celsius</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">kelvin</span><span class="p">)))</span>
<span class="n">outside</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
    <span class="n">TimeSeriesThermalProcess</span><span class="p">(</span><span class="s1">&#39;outside&#39;</span><span class="p">,</span> <span class="n">SortedConstantStepTimeSeriesObject</span><span class="p">(</span><span class="n">CSVReader</span><span class="p">(</span><span class="s1">&#39;./data/example_time_series.csv&#39;</span><span class="p">)),</span>
                             <span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">t</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">hours</span><span class="p">,</span>
                             <span class="n">temperature_calculator</span><span class="o">=</span>
                                <span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">units</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">units</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">degC</span><span class="p">),</span> <span class="n">units</span><span class="o">.</span><span class="n">kelvin</span><span class="p">)))</span>

<span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ThermalCoupling</span><span class="p">(</span><span class="s1">&#39;room to outside&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">thermal_conductivity</span><span class="p">,</span>
                                <span class="n">room</span><span class="p">,</span> <span class="n">outside</span><span class="p">))</span>

<span class="c1"># Create a plot recorder that records the temperatures of all thermal processes.</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">PlotRecorder</span><span class="p">(</span><span class="s1">&#39;temperature&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">second</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">degC</span><span class="p">)</span>
<span class="n">sim</span><span class="o">.</span><span class="n">record</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">has_attribute</span><span class="o">=</span><span class="s1">&#39;temperature&#39;</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Running simulation...&quot;</span><span class="p">)</span>

<span class="c1"># Run the simulation for an hour with a resolution of 1 second.</span>
<span class="n">sim</span><span class="o">.</span><span class="n">reset</span><span class="p">(</span><span class="mi">31</span><span class="o">*</span><span class="mi">4</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">day</span><span class="p">)</span>
<span class="n">sim</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mi">31</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">day</span><span class="p">,</span> <span class="mi">1</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">hours</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Saving data...&quot;</span><span class="p">)</span>

<span class="c1"># Create a PDF document, add the two figures of the plot recorder to the</span>
<span class="c1"># document and close the document.</span>
<span class="n">FigureSaver</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span> <span class="s2">&quot;Temperature&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./output/thermal-example.pdf&#39;</span><span class="p">)</span>
<span class="n">FigureSaver</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span> <span class="s2">&quot;Temperature&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./output/thermal-example.png&#39;</span><span class="p">)</span>
<span class="n">CSVSaver</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./output/thermal-example.csv&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>On line 11 we create a new simulation.</li>
<li>On lines 22 to 35 we create a very simple thermal process with one room and
the outside temperature from a data file.</li>
<li>On line 38 we create a plot recorder and on line 39 we record all temperatures
using the plot recorder.</li>
<li>On line 44 &amp; 45 we initialize the simulation and start the simulation for the
month avril with a resolution of 1 hour.</li>
<li>On linea 51 to 53 we save the data in several formats.</li>
</ul>
<p>The figure looks like this one:</p>
<div class="figure align-center">
<img alt="_images/thermal-example.png" src="_images/thermal-example.png" />
</div>
<p>Here is the class diagram of the thermal package:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/model-thermal.png"><img alt="_images/model-thermal.png" src="_images/model-thermal.png" style="width: 626.0px; height: 667.0px;" /></a>
</div>
<div class="section" id="module-gridsim.thermal.simulation">
<span id="thermal-package"></span><h4>2.1.4.1. Thermal package<a class="headerlink" href="#module-gridsim.thermal.simulation" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="gridsim.thermal.simulation.ThermalSimulator">
<em class="property">class </em><code class="descclassname">gridsim.thermal.simulation.</code><code class="descname">ThermalSimulator</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.thermal.simulation.ThermalSimulator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.core.AbstractSimulationModule" title="gridsim.core.AbstractSimulationModule"><code class="xref py py-class docutils literal"><span class="pre">gridsim.core.AbstractSimulationModule</span></code></a></p>
<p>Gridsim main simulation class for thermal part. This module is
automatically added to the <a class="reference internal" href="#gridsim.simulation.Simulator" title="gridsim.simulation.Simulator"><code class="xref py py-class docutils literal"><span class="pre">Simulator</span></code></a> when
importing any class or module of <a class="reference internal" href="#module-gridsim.thermal" title="gridsim.thermal"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.thermal</span></code></a> package.</p>
<p>To access this class from simulation, use <a class="reference internal" href="#gridsim.simulation.Simulator" title="gridsim.simulation.Simulator"><code class="xref py py-class docutils literal"><span class="pre">Simulator</span></code></a> as
follow:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Create the simulation.</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">()</span>
<span class="n">thsim</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span>
</pre></div>
</div>
<dl class="method">
<dt id="gridsim.thermal.simulation.ThermalSimulator.attribute_name">
<code class="descname">attribute_name</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.thermal.simulation.ThermalSimulator.attribute_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the name of this module.
This name is used to access to this electrical simulator from the
<a class="reference internal" href="#gridsim.simulation.Simulator" title="gridsim.simulation.Simulator"><code class="xref py py-class docutils literal"><span class="pre">Simulator</span></code></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Create the simulation.</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">()</span>
<span class="n">thsim</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">&#8216;thermal&#8217;</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.thermal.simulation.ThermalSimulator.all_elements">
<code class="descname">all_elements</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.thermal.simulation.ThermalSimulator.all_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all <a class="reference internal" href="core.html#gridsim.thermal.core.AbstractThermalElement" title="gridsim.thermal.core.AbstractThermalElement"><code class="xref py py-class docutils literal"><span class="pre">AbstractThermalElement</span></code></a>
contained in the module.
The core simulator will use these lists in order to be able
to retrieve objects or list of objects by certain criteria using
<a class="reference internal" href="#gridsim.simulation.Simulator.find" title="gridsim.simulation.Simulator.find"><code class="xref py py-func docutils literal"><span class="pre">gridsim.simulation.Simulator.find()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of all <a class="reference internal" href="core.html#gridsim.thermal.core.AbstractThermalElement" title="gridsim.thermal.core.AbstractThermalElement"><code class="xref py py-class docutils literal"><span class="pre">AbstractThermalElement</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.thermal.simulation.ThermalSimulator.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.thermal.simulation.ThermalSimulator.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls <a class="reference internal" href="core.html#gridsim.core.AbstractSimulationElement.reset" title="gridsim.core.AbstractSimulationElement.reset"><code class="xref py py-func docutils literal"><span class="pre">gridsim.core.AbstractSimulationElement.reset()</span></code></a> of
each element in this thermal simulator, added by the
<a class="reference internal" href="#gridsim.thermal.simulation.ThermalSimulator.add" title="gridsim.thermal.simulation.ThermalSimulator.add"><code class="xref py py-func docutils literal"><span class="pre">ThermalSimulator.add()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="gridsim.thermal.simulation.ThermalSimulator.calculate">
<code class="descname">calculate</code><span class="sig-paren">(</span><em>self</em>, <em>time</em>, <em>delta_time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.thermal.simulation.ThermalSimulator.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls <a class="reference internal" href="core.html#gridsim.core.AbstractSimulationElement.calculate" title="gridsim.core.AbstractSimulationElement.calculate"><code class="xref py py-func docutils literal"><span class="pre">gridsim.core.AbstractSimulationElement.calculate()</span></code></a>
of each <a class="reference internal" href="core.html#gridsim.thermal.core.ThermalProcess" title="gridsim.thermal.core.ThermalProcess"><code class="xref py py-class docutils literal"><span class="pre">ThermalProcess</span></code></a> in this thermal
simulator, added by the <a class="reference internal" href="#gridsim.thermal.simulation.ThermalSimulator.add" title="gridsim.thermal.simulation.ThermalSimulator.add"><code class="xref py py-func docutils literal"><span class="pre">ThermalSimulator.add()</span></code></a> then apply
the <a class="reference internal" href="core.html#gridsim.thermal.core.ThermalCoupling" title="gridsim.thermal.core.ThermalCoupling"><code class="xref py py-class docutils literal"><span class="pre">ThermalCoupling</span></code></a> to update the energy of each process.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>time</strong> (<em>int or float in second</em>) &#8211; The actual simulation time.</li>
<li><strong>delta_time</strong> (<em>int or float in second</em>) &#8211; The time period for which the calculation
has to be done.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.thermal.simulation.ThermalSimulator.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>self</em>, <em>time</em>, <em>delta_time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.thermal.simulation.ThermalSimulator.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the data of each <a class="reference internal" href="core.html#gridsim.thermal.core.AbstractThermalElement" title="gridsim.thermal.core.AbstractThermalElement"><code class="xref py py-class docutils literal"><span class="pre">AbstractThermalElement</span></code></a> in this
electrical simulator added by the <a class="reference internal" href="#gridsim.thermal.simulation.ThermalSimulator.add" title="gridsim.thermal.simulation.ThermalSimulator.add"><code class="xref py py-func docutils literal"><span class="pre">ThermalSimulator.add()</span></code></a> and
calculate the load flow with
<a class="reference internal" href="#gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator" title="gridsim.electrical.loadflow.AbstractElectricalLoadFlowCalculator"><code class="xref py py-class docutils literal"><span class="pre">AbstractElectricalLoadFlowCalculator</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>time</strong> (<em>int or float in second</em>) &#8211; The actual simulation time.</li>
<li><strong>delta_time</strong> (<em>int or float in second</em>) &#8211; The time period for which the calculation
has to be done.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.thermal.simulation.ThermalSimulator.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>self</em>, <em>element</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.thermal.simulation.ThermalSimulator.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the <a class="reference internal" href="core.html#gridsim.thermal.core.ThermalProcess" title="gridsim.thermal.core.ThermalProcess"><code class="xref py py-class docutils literal"><span class="pre">ThermalProcess</span></code></a> or <a class="reference internal" href="core.html#gridsim.thermal.core.ThermalCoupling" title="gridsim.thermal.core.ThermalCoupling"><code class="xref py py-class docutils literal"><span class="pre">ThermalCoupling</span></code></a> to the thermal simulation
module.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>element</strong> (<code class="xref py py-class docutils literal"><span class="pre">AbstractThermalElement</span></code>) &#8211; Element to add to the thermal simulator module.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gridsim.thermal.element">
<span id="thermal-elements"></span><h4>2.1.4.2. Thermal elements<a class="headerlink" href="#module-gridsim.thermal.element" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="gridsim.thermal.element.ConstantTemperatureProcess">
<em class="property">class </em><code class="descclassname">gridsim.thermal.element.</code><code class="descname">ConstantTemperatureProcess</code><span class="sig-paren">(</span><em>self</em>, <em>friendly_name</em>, <em>temperature</em>, <em>position=Position()</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.thermal.element.ConstantTemperatureProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.thermal.core.ThermalProcess" title="gridsim.thermal.core.ThermalProcess"><code class="xref py py-class docutils literal"><span class="pre">gridsim.thermal.core.ThermalProcess</span></code></a></p>
<p>This is a special thermal process with an infinite thermal capacity
which results that the temperature of the process is constant,
independent how much energy is taken from or given to the process.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>friendly_name</strong> (<em>str, unicode</em>) &#8211; Friendly name to give to the process.</li>
<li><strong>temperature</strong> (<a class="reference internal" href="actor.html#gridsim.cyberphysical.actor.domestichotwater.Boiler.temperature" title="gridsim.cyberphysical.actor.domestichotwater.Boiler.temperature"><em>temperature</em></a>) &#8211; The (constant) temperature in degrees celsius.</li>
<li><strong>position</strong> (<code class="xref py py-class docutils literal"><span class="pre">Position</span></code>) &#8211; The position of the <a class="reference internal" href="core.html#gridsim.thermal.core.ThermalProcess" title="gridsim.thermal.core.ThermalProcess"><code class="xref py py-class docutils literal"><span class="pre">ThermalProcess</span></code></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gridsim.thermal.element.ConstantTemperatureProcess.add_energy">
<code class="descname">add_energy</code><span class="sig-paren">(</span><em>self</em>, <em>delta_energy</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.thermal.element.ConstantTemperatureProcess.add_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Does nothing at all for this type of <a class="reference internal" href="core.html#gridsim.thermal.core.ThermalProcess" title="gridsim.thermal.core.ThermalProcess"><code class="xref py py-class docutils literal"><span class="pre">ThermalProcess</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="gridsim.thermal.element.ConstantTemperatureProcess.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>self</em>, <em>time</em>, <em>delta_time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.thermal.element.ConstantTemperatureProcess.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Does nothing at all for this type of <a class="reference internal" href="core.html#gridsim.thermal.core.ThermalProcess" title="gridsim.thermal.core.ThermalProcess"><code class="xref py py-class docutils literal"><span class="pre">ThermalProcess</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>time</strong> (<em>float in second</em>) &#8211; The actual time of the simulator.</li>
<li><strong>delta_time</strong> (<em>float in second</em>) &#8211; The delta time for which the calculation has to be
done.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.thermal.element.TimeSeriesThermalProcess">
<em class="property">class </em><code class="descclassname">gridsim.thermal.element.</code><code class="descname">TimeSeriesThermalProcess</code><span class="sig-paren">(</span><em>self</em>, <em>friendly_name</em>, <em>time_series</em>, <em>stream</em>, <em>time_converter=None</em>, <em>temperature_calculator=lambda t: units.convert(t</em>, <em>units.kelvin)</em>, <em>position=Position()</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.thermal.element.TimeSeriesThermalProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#gridsim.thermal.core.ThermalProcess" title="gridsim.thermal.core.ThermalProcess"><code class="xref py py-class docutils literal"><span class="pre">gridsim.thermal.core.ThermalProcess</span></code></a></p>
<p>Thermal process that reads the temperature out of a time series object
(CSV file). It has an infinite thermal capacity.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">It is important that the given data contains the
field &#8216;temperature&#8217; or you map a field to the attribute
&#8216;temperature&#8217; using the function <a class="reference internal" href="tools.html#gridsim.timeseries.TimeSeriesObject.map_attribute" title="gridsim.timeseries.TimeSeriesObject.map_attribute"><code class="xref py py-func docutils literal"><span class="pre">gridsim.timeseries.TimeSeriesObject.map_attribute()</span></code></a>.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>friendly_name</strong> (<em>str, unicode</em>) &#8211; Friendly name to give to the process.</li>
<li><strong>temperature_calculator</strong> &#8211; </li>
<li><strong>position</strong> (<a class="reference internal" href="tools.html#gridsim.util.Position" title="gridsim.util.Position"><code class="xref py py-class docutils literal"><span class="pre">Position</span></code></a>) &#8211; The position of the thermal process.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gridsim.thermal.element.TimeSeriesThermalProcess.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.thermal.element.TimeSeriesThermalProcess.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the time to default (<code class="docutils literal"><span class="pre">0</span></code>).</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="tools.html#gridsim.timeseries.TimeSeriesObject.set_time" title="gridsim.timeseries.TimeSeriesObject.set_time"><code class="xref py py-func docutils literal"><span class="pre">gridsim.timeseries.TimeSeriesObject.set_time()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="gridsim.thermal.element.TimeSeriesThermalProcess.calculate">
<code class="descname">calculate</code><span class="sig-paren">(</span><em>self</em>, <em>time</em>, <em>delta_time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.thermal.element.TimeSeriesThermalProcess.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the temperature of the element during the simulation step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>time</strong> (<em>float in second</em>) &#8211; The actual time of the simulator.</li>
<li><strong>delta_time</strong> (<em>float in second</em>) &#8211; The delta time for which the calculation has to be
done.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="tools.html#gridsim.timeseries.TimeSeriesObject.set_time" title="gridsim.timeseries.TimeSeriesObject.set_time"><code class="xref py py-func docutils literal"><span class="pre">gridsim.timeseries.TimeSeriesObject.set_time()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="gridsim.thermal.element.TimeSeriesThermalProcess.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>self</em>, <em>time</em>, <em>delta_time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.thermal.element.TimeSeriesThermalProcess.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Does nothing for this type of <a class="reference internal" href="core.html#gridsim.thermal.core.ThermalProcess" title="gridsim.thermal.core.ThermalProcess"><code class="xref py py-class docutils literal"><span class="pre">ThermalProcess</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>time</strong> (<em>float in second</em>) &#8211; The actual time of the simulator.</li>
<li><strong>delta_time</strong> (<em>float in second</em>) &#8211; The delta time for which the calculation has to be
done.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
</div>
<div class="section" id="user-interface">
<h2>2.2. User Interface<a class="headerlink" href="#user-interface" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-gridsim.controller">
<span id="control-of-simulation-elements"></span><span id="gridsim-control"></span><h3>2.2.1. Control of simulation elements<a class="headerlink" href="#module-gridsim.controller" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="module-gridsim.recorder">
<span id="record-of-simulation-elements"></span><span id="gridsim-record"></span><h3>2.2.2. Record of simulation elements<a class="headerlink" href="#module-gridsim.recorder" title="Permalink to this headline">¶</a></h3>
<p><em>Module author: Michael Clausen &lt;<a class="reference external" href="mailto:clm&#37;&#52;&#48;hevs&#46;ch">clm<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<p><em>Code author: Michael Clausen &lt;<a class="reference external" href="mailto:clm&#37;&#52;&#48;hevs&#46;ch">clm<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<p><em>Code author: Gillian Basso &lt;<a class="reference external" href="mailto:gillian&#46;basso&#37;&#52;&#48;hevs&#46;ch">gillian<span>&#46;</span>basso<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<p>The <a class="reference internal" href="#module-gridsim.recorder" title="gridsim.recorder"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.recorder</span></code></a> module allows to record signals within the
gridsim simulation for later analysis. The module offers already a great
number of ready to use recorders - for example to write the data to text or
csv files or to plot the data after the simulation.</p>
<p>However if a special behavior is needed, custom recorders implementing the
<a class="reference internal" href="#gridsim.simulation.Recorder" title="gridsim.simulation.Recorder"><code class="xref py py-class docutils literal"><span class="pre">Recorder</span></code></a> can be implemented.</p>
<p><em>Here an example illustrating the implementation of a custom recorder and how
recorders are added to the simulation:</em></p>
<div class="highlight-default"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gridsim.simulation</span> <span class="k">import</span> <span class="n">Simulator</span>
<span class="kn">from</span> <span class="nn">gridsim.unit</span> <span class="k">import</span> <span class="n">units</span>
<span class="kn">from</span> <span class="nn">gridsim.recorder</span> <span class="k">import</span> <span class="n">Recorder</span>
<span class="kn">from</span> <span class="nn">gridsim.thermal.core</span> <span class="k">import</span> <span class="n">ThermalProcess</span><span class="p">,</span> <span class="n">ThermalCoupling</span>


<span class="c1">#Custom recorder.</span>
<span class="k">class</span> <span class="nc">ConsoleRecorder</span><span class="p">(</span><span class="n">Recorder</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attribute_name</span><span class="p">,</span> <span class="n">x_unit</span><span class="p">,</span> <span class="n">y_unit</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ConsoleRecorder</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">attribute_name</span><span class="p">,</span> <span class="n">x_unit</span><span class="p">,</span> <span class="n">y_unit</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_simulation_reset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">subjects</span><span class="p">):</span>
        <span class="nb">print</span> <span class="s1">&#39;RESET, observing: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">subjects</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_simulation_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time</span><span class="p">):</span>
        <span class="c1"># time is given in SI unit (i.e. second)</span>
        <span class="nb">print</span> <span class="s1">&#39;time = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">time</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">second</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x_unit</span><span class="p">))</span> <span class="o">+</span> <span class="s1">&#39;:&#39;</span>

    <span class="k">def</span> <span class="nf">on_observed_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">subject</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="c1"># time and value are given in SI unit (i.e. second and kelvin)</span>
        <span class="nb">print</span> <span class="s1">&#39;    &#39;</span> <span class="o">+</span> <span class="n">subject</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">attribute_name</span> <span class="o">+</span>\
              <span class="s1">&#39; = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">value</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">kelvin</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_y_unit</span><span class="p">))</span>

<span class="c1"># Create simulator.</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">()</span>

<span class="c1"># Setup topology (For simplicity we just take a trivial thermal simulation):</span>
<span class="c1">#           __________                             ___________</span>
<span class="c1">#          |          |       ___________         |           |</span>
<span class="c1">#          | hot_room |]-----| coupling  |-------[| cold_room |</span>
<span class="c1">#          |   60 C   |      |   1m2     |        |           |</span>
<span class="c1">#          |          |      |__100_W/K__|        |    20 C   |</span>
<span class="c1">#          |__________|      &lt;-----------&gt;        |___________|</span>
<span class="c1">#                                 1m</span>

<span class="n">celsius</span> <span class="o">=</span> <span class="n">units</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">degC</span><span class="p">)</span>
<span class="n">hot_room</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ThermalProcess</span><span class="o">.</span><span class="n">room</span><span class="p">(</span><span class="s1">&#39;hot_room&#39;</span><span class="p">,</span>
                                               <span class="mi">50</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">meter</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">meter</span><span class="p">,</span>
                                               <span class="mf">2.5</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">metre</span><span class="p">,</span>
                                               <span class="n">celsius</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">kelvin</span><span class="p">)))</span>

<span class="n">celsius</span> <span class="o">=</span> <span class="n">units</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">degC</span><span class="p">)</span>
<span class="n">cold_room</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ThermalProcess</span><span class="o">.</span><span class="n">room</span><span class="p">(</span><span class="s1">&#39;cold_room&#39;</span><span class="p">,</span>
                                                <span class="mi">50</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">meter</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">meter</span><span class="p">,</span>
                                                <span class="mf">2.5</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">metre</span><span class="p">,</span>
                                                <span class="n">celsius</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">kelvin</span><span class="p">)))</span>

<span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ThermalCoupling</span><span class="p">(</span><span class="s1">&#39;coupling&#39;</span><span class="p">,</span>
                                <span class="mi">100</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">thermal_conductivity</span><span class="p">,</span>
                                <span class="n">hot_room</span><span class="p">,</span> <span class="n">cold_room</span><span class="p">))</span>

<span class="c1"># Add a custom console recorder to the attribute &quot;temperature&quot; of the hot</span>
<span class="c1"># room thermal process.</span>
<span class="n">sim</span><span class="o">.</span><span class="n">record</span><span class="p">(</span><span class="n">ConsoleRecorder</span><span class="p">(</span><span class="s2">&quot;temperature&quot;</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">second</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">degC</span><span class="p">),</span>
           <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_class</span><span class="o">=</span><span class="n">ThermalProcess</span><span class="p">))</span>

<span class="c1"># Simulate</span>
<span class="n">sim</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mi">1</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">hour</span><span class="p">,</span> <span class="mi">5</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">minute</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>On lines 8 to 23 we implement our custom recorder.<ul>
<li>On lines 13 &amp; 14 we re-implement the abstract method
<a class="reference internal" href="#gridsim.simulation.Recorder.on_simulation_reset" title="gridsim.simulation.Recorder.on_simulation_reset"><code class="xref py py-func docutils literal"><span class="pre">gridsim.simulation.Recorder.on_simulation_reset()</span></code></a>.
We log which objects we observe.</li>
<li>On lines 16 to 18 we implement the
<a class="reference internal" href="#gridsim.simulation.Recorder.on_simulation_step" title="gridsim.simulation.Recorder.on_simulation_step"><code class="xref py py-func docutils literal"><span class="pre">gridsim.simulation.Recorder.on_simulation_step()</span></code></a> method.
We just output the current time. The time is given in a float in second.</li>
<li>On lines 20 to 23 we re-implement the abstract method
<a class="reference internal" href="#gridsim.simulation.Recorder.on_observed_value" title="gridsim.simulation.Recorder.on_observed_value"><code class="xref py py-func docutils literal"><span class="pre">gridsim.simulation.Recorder.on_observed_value()</span></code></a>.
Basically we just output the value to the console. The time is given in a
float in second.</li>
</ul>
</li>
<li>On line 26 we create the gridsim simulation object.</li>
<li>On lines 37 to 51 we setup a very simple thermal process, where we define 2
rooms and a thermal coupling between them:<ul>
<li>hot_room (line 38) has a <code class="docutils literal"><span class="pre">surface</span></code> of <code class="docutils literal"><span class="pre">50m2</span></code> and a <code class="docutils literal"><span class="pre">height</span></code> of
<code class="docutils literal"><span class="pre">2.5m</span></code>, so the <code class="docutils literal"><span class="pre">volume</span></code> is <code class="docutils literal"><span class="pre">125m3</span></code>. The room is filled with
<a class="reference internal" href="tools.html#gridsim.util.Air" title="gridsim.util.Air"><code class="xref py py-class docutils literal"><span class="pre">gridsim.util.Air</span></code></a> (specific thermal capacity=`1005 J/kgK``) with
the initial temperature of 60 degree celsius (line 38).</li>
<li>cold_room (line 44) has the same volume, but an initial temperature of 20
degree celsius (line 43).</li>
<li>the two rooms are coupled with a thermal conductivity of <code class="docutils literal"><span class="pre">100</span> <span class="pre">Watts</span> <span class="pre">per</span>
<span class="pre">Kelvin</span></code> (lines 49 to 51).</li>
</ul>
</li>
<li>On lines 55 &amp; 56 we add the recorder to the simulation. The recorder will
listen all <code class="xref py py-class docutils literal"><span class="pre">ThermalProcess</span></code> and record their <code class="docutils literal"><span class="pre">temperature</span></code> parameter.
The horizontal unit will be in second and the vertical unit in degree celsius.
The simulation will call the recorder&#8217;s
<strong>on_simulation_step()</strong> and <strong>on_observed_value()</strong> method each time the
simulation did a step.</li>
<li>On line 59 we actually start the simulation for 1 hour with a resolution
of 5 minutes.</li>
</ul>
<p><em>The output of the console logger should be something like this</em>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">RESET</span><span class="p">,</span> <span class="n">observing</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;hot_room&#39;</span><span class="p">,</span> <span class="s1">&#39;cold_room&#39;</span><span class="p">]</span>
<span class="n">time</span> <span class="o">=</span> <span class="mi">0</span> <span class="n">second</span><span class="p">:</span>
    <span class="n">hot_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">60.0</span> <span class="n">degC</span>
    <span class="n">cold_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">20.0</span> <span class="n">degC</span>
<span class="n">time</span> <span class="o">=</span> <span class="mf">300.0</span> <span class="n">second</span><span class="p">:</span>
    <span class="n">hot_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">52.039800995</span> <span class="n">degC</span>
    <span class="n">cold_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">27.960199005</span> <span class="n">degC</span>
<span class="n">time</span> <span class="o">=</span> <span class="mf">600.0</span> <span class="n">second</span><span class="p">:</span>
    <span class="n">hot_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">47.2478404</span> <span class="n">degC</span>
    <span class="n">cold_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">32.7521596</span> <span class="n">degC</span>
<span class="n">time</span> <span class="o">=</span> <span class="mf">900.0</span> <span class="n">second</span><span class="p">:</span>
    <span class="n">hot_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">44.363127803</span> <span class="n">degC</span>
    <span class="n">cold_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">35.636872197</span> <span class="n">degC</span>
<span class="n">time</span> <span class="o">=</span> <span class="mf">1200.0</span> <span class="n">second</span><span class="p">:</span>
    <span class="n">hot_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">42.6265595232</span> <span class="n">degC</span>
    <span class="n">cold_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">37.3734404768</span> <span class="n">degC</span>
<span class="n">time</span> <span class="o">=</span> <span class="mf">1500.0</span> <span class="n">second</span><span class="p">:</span>
    <span class="n">hot_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">41.581162698</span> <span class="n">degC</span>
    <span class="n">cold_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">38.418837302</span> <span class="n">degC</span>
<span class="n">time</span> <span class="o">=</span> <span class="mf">1800.0</span> <span class="n">second</span><span class="p">:</span>
    <span class="n">hot_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">40.9518442113</span> <span class="n">degC</span>
    <span class="n">cold_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">39.0481557887</span> <span class="n">degC</span>
<span class="n">time</span> <span class="o">=</span> <span class="mf">2100.0</span> <span class="n">second</span><span class="p">:</span>
    <span class="n">hot_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">40.5730007441</span> <span class="n">degC</span>
    <span class="n">cold_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">39.4269992559</span> <span class="n">degC</span>
<span class="n">time</span> <span class="o">=</span> <span class="mf">2400.0</span> <span class="n">second</span><span class="p">:</span>
    <span class="n">hot_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">40.3449407464</span> <span class="n">degC</span>
    <span class="n">cold_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">39.6550592536</span> <span class="n">degC</span>
<span class="n">time</span> <span class="o">=</span> <span class="mf">2700.0</span> <span class="n">second</span><span class="p">:</span>
    <span class="n">hot_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">40.2076508971</span> <span class="n">degC</span>
    <span class="n">cold_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">39.7923491029</span> <span class="n">degC</span>
<span class="n">time</span> <span class="o">=</span> <span class="mf">3000.0</span> <span class="n">second</span><span class="p">:</span>
    <span class="n">hot_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">40.1250037739</span> <span class="n">degC</span>
    <span class="n">cold_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">39.8749962261</span> <span class="n">degC</span>
<span class="n">time</span> <span class="o">=</span> <span class="mf">3300.0</span> <span class="n">second</span><span class="p">:</span>
    <span class="n">hot_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">40.0752510281</span> <span class="n">degC</span>
    <span class="n">cold_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">39.9247489719</span> <span class="n">degC</span>
<span class="n">time</span> <span class="o">=</span> <span class="mf">3600.0</span> <span class="n">second</span><span class="p">:</span>
    <span class="n">hot_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">40.0453003701</span> <span class="n">degC</span>
    <span class="n">cold_room</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="mf">39.9546996299</span> <span class="n">degC</span>
</pre></div>
</div>
<dl class="class">
<dt id="gridsim.recorder.PlotRecorder">
<em class="property">class </em><code class="descclassname">gridsim.recorder.</code><code class="descname">PlotRecorder</code><span class="sig-paren">(</span><em>self</em>, <em>attribute_name</em>, <em>x_unit=None</em>, <em>y_unit=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.recorder.PlotRecorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gridsim.simulation.Recorder" title="gridsim.simulation.Recorder"><code class="xref py py-class docutils literal"><span class="pre">gridsim.simulation.Recorder</span></code></a>, <a class="reference internal" href="io.html#gridsim.iodata.output.AttributesGetter" title="gridsim.iodata.output.AttributesGetter"><code class="xref py py-class docutils literal"><span class="pre">gridsim.iodata.output.AttributesGetter</span></code></a></p>
<p>A <a class="reference internal" href="#gridsim.recorder.PlotRecorder" title="gridsim.recorder.PlotRecorder"><code class="xref py py-class docutils literal"><span class="pre">PlotRecorder</span></code></a> can be used to record one or multiple signals
and plot them at the end of the simulation either to a image file,
add them to a PDF or show them on a window.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>attribute_name</strong> (<em>str</em>) &#8211; The attribute name to observe. Every
<a class="reference internal" href="core.html#gridsim.core.AbstractSimulationElement" title="gridsim.core.AbstractSimulationElement"><code class="xref py py-class docutils literal"><span class="pre">AbstractSimulationElement</span></code></a> with a param of this name can
be recorded</li>
<li><strong>x_unit</strong> (int, float, type or unit see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The unit of the horizontal axis</li>
<li><strong>y_unit</strong> (int, float, type or unit see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The unit of the vertical axis</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>If no information are give to the constructor of a <a class="reference internal" href="#gridsim.simulation.Recorder" title="gridsim.simulation.Recorder"><code class="xref py py-class docutils literal"><span class="pre">Recorder</span></code></a>,
the data are not preprocessed.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The preprocess can take a long time if a lot of data are
stored in a <a class="reference internal" href="#gridsim.recorder.PlotRecorder" title="gridsim.recorder.PlotRecorder"><code class="xref py py-class docutils literal"><span class="pre">PlotRecorder</span></code></a>.</p>
</div>
<p><em>Example:</em></p>
<div class="highlight-default"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gridsim.unit</span> <span class="k">import</span> <span class="n">units</span>
<span class="kn">from</span> <span class="nn">gridsim.simulation</span> <span class="k">import</span> <span class="n">Simulator</span>
<span class="kn">from</span> <span class="nn">gridsim.thermal.core</span> <span class="k">import</span> <span class="n">ThermalCoupling</span><span class="p">,</span> <span class="n">ThermalProcess</span>
<span class="kn">from</span> <span class="nn">gridsim.thermal.element</span> <span class="k">import</span> <span class="n">ConstantTemperatureProcess</span>
<span class="kn">from</span> <span class="nn">gridsim.recorder</span> <span class="k">import</span> <span class="n">PlotRecorder</span>
<span class="kn">from</span> <span class="nn">gridsim.iodata.output</span> <span class="k">import</span> <span class="n">FigureSaver</span><span class="p">,</span> <span class="n">CSVSaver</span>

<span class="c1"># Gridsim simulator.</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">()</span>

<span class="c1"># Create a simple thermal process: Two rooms and the thermal coupling between</span>
<span class="c1"># them and to the outside temperature.</span>
<span class="c1">#             __________                        ___________</span>
<span class="c1">#           |          |   ________________   |           |</span>
<span class="c1">#           |   room1  |]-| room1 to room2 |-[| cold_room |</span>
<span class="c1">#           |    18 C  |  |_____50_W/K_____|  |    25 C   |      outside 5 C</span>
<span class="c1">#  10 W/K -[|          |                      |           |]- 10 W/K</span>
<span class="c1">#           |__________|                      |___________|</span>
<span class="c1">#</span>
<span class="n">celsius</span> <span class="o">=</span> <span class="n">units</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">degC</span><span class="p">)</span>
<span class="n">room1</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ThermalProcess</span><span class="o">.</span><span class="n">room</span><span class="p">(</span><span class="s1">&#39;room1&#39;</span><span class="p">,</span>
                                            <span class="mi">50</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">meter</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">meter</span><span class="p">,</span>
                                            <span class="mf">2.5</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">metre</span><span class="p">,</span>
                                            <span class="n">units</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">celsius</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">kelvin</span><span class="p">)))</span>
<span class="n">celsius</span> <span class="o">=</span> <span class="n">units</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">degC</span><span class="p">)</span>
<span class="n">room2</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ThermalProcess</span><span class="o">.</span><span class="n">room</span><span class="p">(</span><span class="s1">&#39;room2&#39;</span><span class="p">,</span>
                                            <span class="mi">50</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">meter</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">meter</span><span class="p">,</span>
                                            <span class="mf">2.5</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">metre</span><span class="p">,</span>
                                            <span class="n">units</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">celsius</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">kelvin</span><span class="p">)))</span>

<span class="n">celsius</span> <span class="o">=</span> <span class="n">units</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">degC</span><span class="p">)</span>
<span class="n">outside</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
    <span class="n">ConstantTemperatureProcess</span><span class="p">(</span><span class="s1">&#39;outside&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">celsius</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">kelvin</span><span class="p">)))</span>

<span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ThermalCoupling</span><span class="p">(</span><span class="s1">&#39;room1 to outside&#39;</span><span class="p">,</span>
                                <span class="mi">10</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">thermal_conductivity</span><span class="p">,</span>
                                <span class="n">room1</span><span class="p">,</span> <span class="n">outside</span><span class="p">))</span>
<span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ThermalCoupling</span><span class="p">(</span><span class="s1">&#39;room2 to outside&#39;</span><span class="p">,</span>
                                <span class="mi">10</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">thermal_conductivity</span><span class="p">,</span>
                                <span class="n">room2</span><span class="p">,</span> <span class="n">outside</span><span class="p">))</span>
<span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ThermalCoupling</span><span class="p">(</span><span class="s1">&#39;room1 to room2&#39;</span><span class="p">,</span>
                                <span class="mi">50</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">thermal_conductivity</span><span class="p">,</span>
                                <span class="n">room1</span><span class="p">,</span> <span class="n">room2</span><span class="p">))</span>

<span class="c1"># Create a plot recorder that records the temperatures of all thermal processes.</span>
<span class="n">kelvin</span> <span class="o">=</span> <span class="n">PlotRecorder</span><span class="p">(</span><span class="s1">&#39;temperature&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">second</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">kelvin</span><span class="p">)</span>
<span class="n">sim</span><span class="o">.</span><span class="n">record</span><span class="p">(</span><span class="n">kelvin</span><span class="p">,</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">has_attribute</span><span class="o">=</span><span class="s1">&#39;temperature&#39;</span><span class="p">))</span>

<span class="c1"># Create a plot recorder that records the temperatures of all thermal</span>
<span class="c1"># processes in Kelvin.</span>
<span class="n">celsius</span> <span class="o">=</span> <span class="n">PlotRecorder</span><span class="p">(</span><span class="s1">&#39;temperature&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">minutes</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">degC</span><span class="p">)</span>
<span class="n">sim</span><span class="o">.</span><span class="n">record</span><span class="p">(</span><span class="n">celsius</span><span class="p">,</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">has_attribute</span><span class="o">=</span><span class="s1">&#39;temperature&#39;</span><span class="p">))</span>

<span class="c1"># Create a second plot recorder which records all energy flows</span>
<span class="c1"># (thermal couplings) between the different processes.</span>

<span class="n">flow</span> <span class="o">=</span> <span class="n">PlotRecorder</span><span class="p">(</span><span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">second</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">watt</span><span class="p">)</span>
<span class="n">sim</span><span class="o">.</span><span class="n">record</span><span class="p">(</span><span class="n">flow</span><span class="p">,</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_class</span><span class="o">=</span><span class="n">ThermalCoupling</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Running simulation...&quot;</span><span class="p">)</span>

<span class="c1"># Run the simulation for an hour with a resolution of 1 second.</span>
<span class="n">sim</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">hour</span><span class="p">,</span> <span class="mi">1</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">second</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Saving data...&quot;</span><span class="p">)</span>

<span class="c1"># Save the figures as images.</span>
<span class="n">FigureSaver</span><span class="p">(</span><span class="n">kelvin</span><span class="p">,</span> <span class="s2">&quot;Temperature (K)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./output/fig1.png&#39;</span><span class="p">)</span>
<span class="n">FigureSaver</span><span class="p">(</span><span class="n">celsius</span><span class="p">,</span> <span class="s2">&quot;Temperature (C)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./output/fig2.png&#39;</span><span class="p">)</span>
<span class="n">FigureSaver</span><span class="p">(</span><span class="n">flow</span><span class="p">,</span> <span class="s2">&quot;Flow&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./output/fig3.png&#39;</span><span class="p">)</span>

<span class="n">CSVSaver</span><span class="p">(</span><span class="n">celsius</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./output/fig2.csv&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>In this example, only new concept are detailed.</li>
<li>On line 46, we create a <a class="reference internal" href="#gridsim.recorder.PlotRecorder" title="gridsim.recorder.PlotRecorder"><code class="xref py py-class docutils literal"><span class="pre">PlotRecorder</span></code></a> which recorder the
<code class="docutils literal"><span class="pre">temperature</span></code> attribute in Kelvin.</li>
<li>On line 47, we use that recorder in order to record all element in
the thermal module who have the attribute &#8216;temperature&#8217; by using the
powerful <a class="reference internal" href="#gridsim.simulation.Simulator.find" title="gridsim.simulation.Simulator.find"><code class="xref py py-func docutils literal"><span class="pre">gridsim.simulation.Simulator.find()</span></code></a> method by asking
to return a list of all element that have the attribute &#8216;temperature&#8217;.</li>
<li>On line 51, we create a very similar recorder as before, but
the attribute will be in celsius and the time in minutes.</li>
<li>On line 52, we recorder same objects as above,</li>
<li>On line 68, we create a first <a class="reference internal" href="io.html#gridsim.iodata.output.FigureSaver" title="gridsim.iodata.output.FigureSaver"><code class="xref py py-class docutils literal"><span class="pre">FigureSaver</span></code></a> instance with the
title &#8216;Temperature (K)&#8217; which will use the data returned by the
<a class="reference internal" href="#gridsim.simulation.Recorder" title="gridsim.simulation.Recorder"><code class="xref py py-class docutils literal"><span class="pre">Recorder</span></code></a> to <code class="xref py py-func docutils literal"><span class="pre">save()</span></code> the data in a figure.</li>
<li>On line 69, we also save the data of the other <a class="reference internal" href="#gridsim.simulation.Recorder" title="gridsim.simulation.Recorder"><code class="xref py py-class docutils literal"><span class="pre">Recorder</span></code></a>.
The figures below show that the result is quite the same except that
the y-coordinates have the right unit.</li>
<li>On line 72, we save the data using another saver: <a class="reference internal" href="io.html#gridsim.iodata.output.CSVSaver" title="gridsim.iodata.output.CSVSaver"><code class="xref py py-class docutils literal"><span class="pre">CSVSaver</span></code></a>.</li>
</ul>
<p>The resulting 3 images of this simulation are show here:</p>
<div class="figure align-center">
<img alt="_images/fig1.png" src="_images/fig1.png" />
</div>
<div class="figure align-center">
<img alt="_images/fig2.png" src="_images/fig2.png" />
</div>
<div class="figure align-center">
<img alt="_images/fig3.png" src="_images/fig3.png" />
</div>
<dl class="method">
<dt id="gridsim.recorder.PlotRecorder.on_simulation_reset">
<code class="descname">on_simulation_reset</code><span class="sig-paren">(</span><em>self</em>, <em>subjects</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.recorder.PlotRecorder.on_simulation_reset" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#gridsim.simulation.Recorder" title="gridsim.simulation.Recorder"><code class="xref py py-class docutils literal"><span class="pre">Recorder</span></code></a> implementation. Prepares the data structures.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#gridsim.simulation.Recorder.on_simulation_reset" title="gridsim.simulation.Recorder.on_simulation_reset"><code class="xref py py-func docutils literal"><span class="pre">gridsim.simulation.Recorder.on_simulation_reset()</span></code></a>
for details.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="gridsim.recorder.PlotRecorder.on_simulation_step">
<code class="descname">on_simulation_step</code><span class="sig-paren">(</span><em>self</em>, <em>time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.recorder.PlotRecorder.on_simulation_step" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#gridsim.simulation.Recorder" title="gridsim.simulation.Recorder"><code class="xref py py-class docutils literal"><span class="pre">Recorder</span></code></a> implementation. Prepares the data structures.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#gridsim.simulation.Recorder.on_simulation_step" title="gridsim.simulation.Recorder.on_simulation_step"><code class="xref py py-func docutils literal"><span class="pre">gridsim.simulation.Recorder.on_simulation_step()</span></code></a>
for details.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="gridsim.recorder.PlotRecorder.on_observed_value">
<code class="descname">on_observed_value</code><span class="sig-paren">(</span><em>self</em>, <em>subject</em>, <em>time</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.recorder.PlotRecorder.on_observed_value" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#gridsim.simulation.Recorder" title="gridsim.simulation.Recorder"><code class="xref py py-class docutils literal"><span class="pre">Recorder</span></code></a> implementation. Saves the data in order to
plot them afterwards.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#gridsim.simulation.Recorder.on_observed_value" title="gridsim.simulation.Recorder.on_observed_value"><code class="xref py py-func docutils literal"><span class="pre">gridsim.simulation.Recorder.on_observed_value()</span></code></a>
for details.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="gridsim.recorder.PlotRecorder.x_values">
<code class="descname">x_values</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.recorder.PlotRecorder.x_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a list of time, on for each <a class="reference internal" href="#gridsim.recorder.PlotRecorder.on_observed_value" title="gridsim.recorder.PlotRecorder.on_observed_value"><code class="xref py py-func docutils literal"><span class="pre">on_observed_value()</span></code></a> and
ordered following the call of <a class="reference internal" href="#gridsim.simulation.Simulator.step" title="gridsim.simulation.Simulator.step"><code class="xref py py-func docutils literal"><span class="pre">gridsim.simulation.Simulator.step()</span></code></a>.</p>
<p><em>Example</em>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sim</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">()</span>

<span class="n">kelvin</span> <span class="o">=</span> <span class="n">PlotRecorder</span><span class="p">(</span><span class="s1">&#39;temperature&#39;</span><span class="p">)</span>
<span class="n">sim</span><span class="o">.</span><span class="n">record</span><span class="p">(</span><span class="n">kelvin</span><span class="p">,</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">has_attribute</span><span class="o">=</span><span class="s1">&#39;temperature&#39;</span><span class="p">))</span>

<span class="n">sim</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="mi">17</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">second</span><span class="p">)</span>
<span class="n">sim</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">second</span><span class="p">)</span>
<span class="n">sim</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="mi">42</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">second</span><span class="p">)</span>
</pre></div>
</div>
<p>In this example, this function should returns:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">17</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">42</span><span class="p">]</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">time in second</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.recorder.PlotRecorder.x_unit">
<code class="descname">x_unit</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.recorder.PlotRecorder.x_unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the unit of the time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the time unit, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.recorder.PlotRecorder.y_values">
<code class="descname">y_values</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.recorder.PlotRecorder.y_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a map of the recorded data:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">id1</span><span class="p">:</span> <span class="p">[</span><span class="nb">list</span> <span class="n">of</span> <span class="n">recorded</span> <span class="n">values</span><span class="p">]</span>
    <span class="n">id2</span><span class="p">:</span> <span class="p">[</span><span class="nb">list</span> <span class="n">of</span> <span class="n">recorded</span> <span class="n">values</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>with <code class="docutils literal"><span class="pre">idX</span></code> the <code class="docutils literal"><span class="pre">subject</span></code> given in parameter of <a class="reference internal" href="#gridsim.recorder.PlotRecorder.on_observed_value" title="gridsim.recorder.PlotRecorder.on_observed_value"><code class="xref py py-func docutils literal"><span class="pre">on_observed_value()</span></code></a>
and <a class="reference internal" href="#gridsim.recorder.PlotRecorder.on_simulation_reset" title="gridsim.recorder.PlotRecorder.on_simulation_reset"><code class="xref py py-func docutils literal"><span class="pre">on_simulation_reset()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a map associating id to recorded data</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.recorder.PlotRecorder.y_unit">
<code class="descname">y_unit</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.recorder.PlotRecorder.y_unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the unit od the recorded data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the type or the unit, see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.recorder.HistogramRecorder">
<em class="property">class </em><code class="descclassname">gridsim.recorder.</code><code class="descname">HistogramRecorder</code><span class="sig-paren">(</span><em>*args</em>, <em>**keywords</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.recorder.HistogramRecorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gridsim.simulation.Recorder" title="gridsim.simulation.Recorder"><code class="xref py py-class docutils literal"><span class="pre">gridsim.simulation.Recorder</span></code></a>, <a class="reference internal" href="io.html#gridsim.iodata.output.AttributesGetter" title="gridsim.iodata.output.AttributesGetter"><code class="xref py py-class docutils literal"><span class="pre">gridsim.iodata.output.AttributesGetter</span></code></a></p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This class is currently not tested...</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>attribute_name</strong> &#8211; </li>
<li><strong>x_min</strong> &#8211; </li>
<li><strong>x_max</strong> &#8211; </li>
<li><strong>nb_bins</strong> &#8211; </li>
<li><strong>x_unit</strong> (type or unit see <a class="reference internal" href="unit.html#module-gridsim.unit" title="gridsim.unit"><code class="xref py py-mod docutils literal"><span class="pre">gridsim.unit</span></code></a>) &#8211; The unit of the horizontal axis</li>
<li><strong>y_unit</strong> (<a class="reference internal" href="core.html#gridsim.electrical.core.ElectricalBus.type" title="gridsim.electrical.core.ElectricalBus.type"><em>type</em></a>) &#8211; The unit of the vertical axis</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gridsim.recorder.HistogramRecorder.on_simulation_reset">
<code class="descname">on_simulation_reset</code><span class="sig-paren">(</span><em>subjects</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.recorder.HistogramRecorder.on_simulation_reset" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-class docutils literal"><span class="pre">RecorderInterface</span></code> implementation. Writes the header to the file
defined by the _header_format attribute each time the simulation does a
reset.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-func docutils literal"><span class="pre">RecorderInterface.on_simulation_reset()</span></code>
for details.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="gridsim.recorder.HistogramRecorder.on_simulation_step">
<code class="descname">on_simulation_step</code><span class="sig-paren">(</span><em>time</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.recorder.HistogramRecorder.on_simulation_step" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-class docutils literal"><span class="pre">RecorderInterface</span></code> implementation. Called for each simulation
step once per recorder.
Writes the step separation to the file.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-func docutils literal"><span class="pre">RecorderInterface.on_simulation_step()</span></code> for details.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="gridsim.recorder.HistogramRecorder.on_observed_value">
<code class="descname">on_observed_value</code><span class="sig-paren">(</span><em>subject</em>, <em>time</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.recorder.HistogramRecorder.on_observed_value" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-class docutils literal"><span class="pre">RecorderInterface</span></code> implementation. Writes a (formatted) string
into the file.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-func docutils literal"><span class="pre">RecorderInterface.on_observed_value()</span></code> for details.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="gridsim.recorder.HistogramRecorder.x_values">
<code class="descname">x_values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.recorder.HistogramRecorder.x_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gridsim.recorder.HistogramRecorder.x_unit">
<code class="descname">x_unit</code><span class="sig-paren">(</span><em>*args</em>, <em>**keywords</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.recorder.HistogramRecorder.x_unit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gridsim.recorder.HistogramRecorder.y_values">
<code class="descname">y_values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.recorder.HistogramRecorder.y_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gridsim.recorder.HistogramRecorder.y_unit">
<code class="descname">y_unit</code><span class="sig-paren">(</span><em>*args</em>, <em>**keywords</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.recorder.HistogramRecorder.y_unit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="core.html" class="btn btn-neutral float-right" title="3. The Simulation Core" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="overview.html" class="btn btn-neutral" title="1. Overview" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; <a href="copyright.html">Copyright</a> 2013-2015, The Gridsim Team.
      Last updated on Dec 05, 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.3.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>