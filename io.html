

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>7. The Gridsim Input/Output &mdash; Gridsim 0.3.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/icon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
        <link rel="copyright" title="Copyright" href="copyright.html"/>
    <link rel="top" title="Gridsim 0.3.0 documentation" href="index.html"/>
        <link rel="next" title="8. Further Information" href="copyright.html"/>
        <link rel="prev" title="6. The Simulation Unit" href="unit.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Gridsim
          

          
          </a>

          
            
            
              <div class="version">
                0.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">2. The Simulator General Use</a></li>
<li class="toctree-l1"><a class="reference internal" href="core.html">3. The Simulation Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">4. The Simulation Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="actor.html">5. The Actors</a></li>
<li class="toctree-l1"><a class="reference internal" href="unit.html">6. The Simulation Unit</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">7. The Gridsim Input/Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="copyright.html">8. Further Information</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Gridsim</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>7. The Gridsim Input/Output</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/io.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-gridsim.iodata">
<span id="the-gridsim-input-output"></span><span id="io-ref"></span><h1>7. The Gridsim Input/Output<a class="headerlink" href="#module-gridsim.iodata" title="Permalink to this headline">¶</a></h1>
<p>The input/output module provides loader and saver interfaces.</p>
<p>Currently Gridsim provides loader for CSV file (<a class="reference internal" href="#gridsim.iodata.input.CSVReader" title="gridsim.iodata.input.CSVReader"><code class="xref py py-class docutils literal"><span class="pre">CSVReader</span></code></a>) and savers
for CSV file (<a class="reference internal" href="#gridsim.iodata.output.CSVSaver" title="gridsim.iodata.output.CSVSaver"><code class="xref py py-class docutils literal"><span class="pre">CSVSaver</span></code></a>) and images &#8211; .png, .jpg, .pdf, etc. &#8211;
(<a class="reference internal" href="#gridsim.iodata.output.FigureSaver" title="gridsim.iodata.output.FigureSaver"><code class="xref py py-class docutils literal"><span class="pre">FigureSaver</span></code></a>).</p>
<div class="section" id="module-gridsim.iodata.input">
<span id="input"></span><h2>7.1. Input<a class="headerlink" href="#module-gridsim.iodata.input" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="gridsim.iodata.input.Reader">
<em class="property">class </em><code class="descclassname">gridsim.iodata.input.</code><code class="descname">Reader</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.iodata.input.Reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This class is the based class of all readers/loaders.</p>
<dl class="method">
<dt id="gridsim.iodata.input.Reader.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.iodata.input.Reader.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Empties the data of the Reader.</p>
</dd></dl>

<dl class="method">
<dt id="gridsim.iodata.input.Reader.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>self</em>, <em>data_type=None</em>, <em>nb_data=float(&quot;inf&quot;)</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.iodata.input.Reader.load" title="Permalink to this definition">¶</a></dt>
<dd><p>This method MUST returns formatted data following this format
<code class="docutils literal"><span class="pre">[(label1,</span> <span class="pre">data1],</span> <span class="pre">(label2,</span> <span class="pre">data2),</span> <span class="pre">...]</span></code></p>
<p>with:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">labelX</span></code>: a str</li>
<li><code class="docutils literal"><span class="pre">dataX</span></code>: a list of <code class="docutils literal"><span class="pre">data_type</span></code></li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data_type</strong> (<em>type (default None)</em>) &#8211; the type of stored data if <code class="docutils literal"><span class="pre">None</span></code> no conversion
are done.</li>
<li><strong>nb_data</strong> (<em>int</em>) &#8211; the number of data to load</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a dict of values</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.iodata.input.CSVReader">
<em class="property">class </em><code class="descclassname">gridsim.iodata.input.</code><code class="descname">CSVReader</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.iodata.input.CSVReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gridsim.iodata.input.Reader" title="gridsim.iodata.input.Reader"><code class="xref py py-class docutils literal"><span class="pre">gridsim.iodata.input.Reader</span></code></a></p>
<p>This class reads a CSV file and stores the data as follow:</p>
<p><code class="docutils literal"><span class="pre">[(label1,</span> <span class="pre">data1],</span> <span class="pre">(label2,</span> <span class="pre">data2),</span> <span class="pre">...]</span></code></p>
<p>with:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">labelX</span></code>: a str</li>
<li><code class="docutils literal"><span class="pre">dataX</span></code>: a list of <code class="docutils literal"><span class="pre">data_type</span></code></li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stream</strong> (str or every type managed by <code class="docutils literal"><span class="pre">with</span></code> keyword) &#8211; a stream of data or a file name</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="gridsim.iodata.input.CSVReader.DEFAULT_DATA_NAME">
<code class="descname">DEFAULT_DATA_NAME</code><em class="property"> = 'DATA_'</em><a class="headerlink" href="#gridsim.iodata.input.CSVReader.DEFAULT_DATA_NAME" title="Permalink to this definition">¶</a></dt>
<dd><p>If no header, the label of the <code class="docutils literal"><span class="pre">dict</span></code> returned by
<a class="reference internal" href="#gridsim.iodata.input.CSVReader.load" title="gridsim.iodata.input.CSVReader.load"><code class="xref py py-func docutils literal"><span class="pre">gridsim.iodata.input.CSVReader.load()</span></code></a> will be <code class="docutils literal"><span class="pre">DATA_X</span></code> with <code class="docutils literal"><span class="pre">X</span></code> an
integer representing the column in the file:</p>
<p><code class="docutils literal"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">X</span> <span class="pre">&lt;</span> <span class="pre">column</span> <span class="pre">number</span> <span class="pre">-</span> <span class="pre">1</span></code></p>
</dd></dl>

<dl class="method">
<dt id="gridsim.iodata.input.CSVReader.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.iodata.input.CSVReader.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all data stored in the object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.iodata.input.CSVReader.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>self</em>, <em>data_type=None</em>, <em>nb_data=sys.maxint</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.iodata.input.CSVReader.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the data from the given CSV data file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data_type</strong> (<a class="reference internal" href="core.html#gridsim.electrical.core.ElectricalBus.type" title="gridsim.electrical.core.ElectricalBus.type"><em>type</em></a>) &#8211; the type of the stored data if <code class="docutils literal"><span class="pre">None</span></code> no conversion
are done.</li>
<li><strong>nb_data</strong> (<em>int</em>) &#8211; the number of line to load</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.iodata.input.CSVTimeReader">
<em class="property">class </em><code class="descclassname">gridsim.iodata.input.</code><code class="descname">CSVTimeReader</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.iodata.input.CSVTimeReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gridsim.iodata.input.CSVReader" title="gridsim.iodata.input.CSVReader"><code class="xref py py-class docutils literal"><span class="pre">gridsim.iodata.input.CSVReader</span></code></a></p>
<p>This class reads a CSV file and stores the data as follow:</p>
<p><code class="docutils literal"><span class="pre">[(label1,</span> <span class="pre">data1],</span> <span class="pre">(label2,</span> <span class="pre">data2),</span> <span class="pre">...]</span></code></p>
<p>with:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">labelX</span></code>: a str</li>
<li><code class="docutils literal"><span class="pre">dataX</span></code>: a list of <code class="docutils literal"><span class="pre">data_type</span></code></li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stream</strong> (str or every type managed by <code class="docutils literal"><span class="pre">with</span></code> keyword) &#8211; a stream of data or a file name</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gridsim.iodata.input.CSVTimeReader.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>self</em>, <em>data_type=None</em>, <em>nb_data=float(&quot;inf&quot;)</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.iodata.input.CSVTimeReader.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the data from the given CSV data file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data_type</strong> (<a class="reference internal" href="core.html#gridsim.electrical.core.ElectricalBus.type" title="gridsim.electrical.core.ElectricalBus.type"><em>type</em></a>) &#8211; the type of the stored data if <code class="docutils literal"><span class="pre">None</span></code> no conversion
are done.</li>
<li><strong>nb_data</strong> (int
.. warning:: The first column is consider as time column.
<code class="docutils literal"><span class="pre">nb_data</span></code> MUST have the same <code class="docutils literal"><span class="pre">unit</span></code> as the time in the stream) &#8211; the time the load MUST stop</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-gridsim.iodata.output">
<span id="output"></span><h2>7.2. Output<a class="headerlink" href="#module-gridsim.iodata.output" title="Permalink to this headline">¶</a></h2>
<p><em>Module author: Gillian Basso &lt;<a class="reference external" href="mailto:gillian&#46;basso&#37;&#52;&#48;hevs&#46;ch">gillian<span>&#46;</span>basso<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<p><em>Code author: Michael Clausen &lt;<a class="reference external" href="mailto:clm&#37;&#52;&#48;hevs&#46;ch">clm<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<p><em>Code author: Gillian Basso &lt;<a class="reference external" href="mailto:gillian&#46;basso&#37;&#52;&#48;hevs&#46;ch">gillian<span>&#46;</span>basso<span>&#64;</span>hevs<span>&#46;</span>ch</a>&gt;</em></p>
<p>This module provides interfaces to save data.</p>
<p>To use the <code class="xref py py-class docutils literal"><span class="pre">Saver</span></code> a class has to implement the <a class="reference internal" href="#gridsim.iodata.output.AttributesGetter" title="gridsim.iodata.output.AttributesGetter"><code class="xref py py-class docutils literal"><span class="pre">AttributesGetter</span></code></a>
interface.</p>
<p><em>Example:</em></p>
<div class="highlight-default"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gridsim.unit</span> <span class="k">import</span> <span class="n">units</span>
<span class="kn">from</span> <span class="nn">gridsim.simulation</span> <span class="k">import</span> <span class="n">Simulator</span>
<span class="kn">from</span> <span class="nn">gridsim.thermal.core</span> <span class="k">import</span> <span class="n">ThermalCoupling</span><span class="p">,</span> <span class="n">ThermalProcess</span>
<span class="kn">from</span> <span class="nn">gridsim.thermal.element</span> <span class="k">import</span> <span class="n">ConstantTemperatureProcess</span>
<span class="kn">from</span> <span class="nn">gridsim.recorder</span> <span class="k">import</span> <span class="n">PlotRecorder</span>
<span class="kn">from</span> <span class="nn">gridsim.iodata.output</span> <span class="k">import</span> <span class="n">FigureSaver</span><span class="p">,</span> <span class="n">CSVSaver</span>

<span class="c1"># Gridsim simulator.</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">()</span>

<span class="c1"># Create a simple thermal process: Two rooms and the thermal coupling between</span>
<span class="c1"># them and to the outside temperature.</span>
<span class="c1">#             __________                        ___________</span>
<span class="c1">#           |          |   ________________   |           |</span>
<span class="c1">#           |   room1  |]-| room1 to room2 |-[| cold_room |</span>
<span class="c1">#           |    18 C  |  |_____50_W/K_____|  |    25 C   |      outside 5 C</span>
<span class="c1">#  10 W/K -[|          |                      |           |]- 10 W/K</span>
<span class="c1">#           |__________|                      |___________|</span>
<span class="c1">#</span>
<span class="n">celsius</span> <span class="o">=</span> <span class="n">units</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">degC</span><span class="p">)</span>
<span class="n">room1</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ThermalProcess</span><span class="o">.</span><span class="n">room</span><span class="p">(</span><span class="s1">&#39;room1&#39;</span><span class="p">,</span>
                                            <span class="mi">50</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">meter</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">meter</span><span class="p">,</span>
                                            <span class="mf">2.5</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">metre</span><span class="p">,</span>
                                            <span class="n">units</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">celsius</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">kelvin</span><span class="p">)))</span>
<span class="n">celsius</span> <span class="o">=</span> <span class="n">units</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">degC</span><span class="p">)</span>
<span class="n">room2</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ThermalProcess</span><span class="o">.</span><span class="n">room</span><span class="p">(</span><span class="s1">&#39;room2&#39;</span><span class="p">,</span>
                                            <span class="mi">50</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">meter</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">meter</span><span class="p">,</span>
                                            <span class="mf">2.5</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">metre</span><span class="p">,</span>
                                            <span class="n">units</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">celsius</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">kelvin</span><span class="p">)))</span>

<span class="n">celsius</span> <span class="o">=</span> <span class="n">units</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">degC</span><span class="p">)</span>
<span class="n">outside</span> <span class="o">=</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
    <span class="n">ConstantTemperatureProcess</span><span class="p">(</span><span class="s1">&#39;outside&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">celsius</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">kelvin</span><span class="p">)))</span>

<span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ThermalCoupling</span><span class="p">(</span><span class="s1">&#39;room1 to outside&#39;</span><span class="p">,</span>
                                <span class="mi">10</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">thermal_conductivity</span><span class="p">,</span>
                                <span class="n">room1</span><span class="p">,</span> <span class="n">outside</span><span class="p">))</span>
<span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ThermalCoupling</span><span class="p">(</span><span class="s1">&#39;room2 to outside&#39;</span><span class="p">,</span>
                                <span class="mi">10</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">thermal_conductivity</span><span class="p">,</span>
                                <span class="n">room2</span><span class="p">,</span> <span class="n">outside</span><span class="p">))</span>
<span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">ThermalCoupling</span><span class="p">(</span><span class="s1">&#39;room1 to room2&#39;</span><span class="p">,</span>
                                <span class="mi">50</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">thermal_conductivity</span><span class="p">,</span>
                                <span class="n">room1</span><span class="p">,</span> <span class="n">room2</span><span class="p">))</span>

<span class="c1"># Create a plot recorder that records the temperatures of all thermal processes.</span>
<span class="n">kelvin</span> <span class="o">=</span> <span class="n">PlotRecorder</span><span class="p">(</span><span class="s1">&#39;temperature&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">second</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">kelvin</span><span class="p">)</span>
<span class="n">sim</span><span class="o">.</span><span class="n">record</span><span class="p">(</span><span class="n">kelvin</span><span class="p">,</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">has_attribute</span><span class="o">=</span><span class="s1">&#39;temperature&#39;</span><span class="p">))</span>

<span class="c1"># Create a plot recorder that records the temperatures of all thermal</span>
<span class="c1"># processes in Kelvin.</span>
<span class="n">celsius</span> <span class="o">=</span> <span class="n">PlotRecorder</span><span class="p">(</span><span class="s1">&#39;temperature&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">minutes</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">degC</span><span class="p">)</span>
<span class="n">sim</span><span class="o">.</span><span class="n">record</span><span class="p">(</span><span class="n">celsius</span><span class="p">,</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">has_attribute</span><span class="o">=</span><span class="s1">&#39;temperature&#39;</span><span class="p">))</span>

<span class="c1"># Create a second plot recorder which records all energy flows</span>
<span class="c1"># (thermal couplings) between the different processes.</span>

<span class="n">flow</span> <span class="o">=</span> <span class="n">PlotRecorder</span><span class="p">(</span><span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">second</span><span class="p">,</span> <span class="n">units</span><span class="o">.</span><span class="n">watt</span><span class="p">)</span>
<span class="n">sim</span><span class="o">.</span><span class="n">record</span><span class="p">(</span><span class="n">flow</span><span class="p">,</span> <span class="n">sim</span><span class="o">.</span><span class="n">thermal</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">element_class</span><span class="o">=</span><span class="n">ThermalCoupling</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Running simulation...&quot;</span><span class="p">)</span>

<span class="c1"># Run the simulation for an hour with a resolution of 1 second.</span>
<span class="n">sim</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">hour</span><span class="p">,</span> <span class="mi">1</span><span class="o">*</span><span class="n">units</span><span class="o">.</span><span class="n">second</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Saving data...&quot;</span><span class="p">)</span>

<span class="c1"># Save the figures as images.</span>
<span class="n">FigureSaver</span><span class="p">(</span><span class="n">kelvin</span><span class="p">,</span> <span class="s2">&quot;Temperature (K)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./output/fig1.png&#39;</span><span class="p">)</span>
<span class="n">FigureSaver</span><span class="p">(</span><span class="n">celsius</span><span class="p">,</span> <span class="s2">&quot;Temperature (C)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./output/fig2.png&#39;</span><span class="p">)</span>
<span class="n">FigureSaver</span><span class="p">(</span><span class="n">flow</span><span class="p">,</span> <span class="s2">&quot;Flow&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./output/fig3.png&#39;</span><span class="p">)</span>

<span class="n">CSVSaver</span><span class="p">(</span><span class="n">celsius</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./output/fig2.csv&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<ul class="simple">
<li>On lines 46, 51 and 57, we create <a class="reference internal" href="documentation.html#gridsim.simulation.Recorder" title="gridsim.simulation.Recorder"><code class="xref py py-class docutils literal"><span class="pre">Recorder</span></code></a> objects.</li>
<li>On lines 47, 52 and 58, we add the recorders to the simulation.</li>
<li>On lines 68 to 70, we use the recorders as <code class="xref py py-class docutils literal"><span class="pre">AttributeGetter</span></code> to
save them in figure. Here, the 3 images file saved:</li>
</ul>
<div class="figure align-center">
<img alt="_images/fig1.png" src="_images/fig1.png" />
</div>
<div class="figure align-center">
<img alt="_images/fig2.png" src="_images/fig2.png" />
</div>
<div class="figure align-center">
<img alt="_images/fig3.png" src="_images/fig3.png" />
</div>
<ul class="simple">
<li>On line 72, we use a second saver to save in a csv file the a recorder we
already saved, here the 20th first lines:</li>
</ul>
<div class="highlight-default"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">minute</span><span class="p">,</span><span class="n">outside</span><span class="p">,</span><span class="n">room2</span><span class="p">,</span><span class="n">room1</span>
<span class="mf">0.0</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">25.0</span><span class="p">,</span><span class="mf">18.0</span>
<span class="mf">0.0166666666667</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">24.9963515755</span><span class="p">,</span><span class="mf">18.0014593698</span>
<span class="mf">0.0333333333333</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">24.9927050871</span><span class="p">,</span><span class="mf">18.0029169487</span>
<span class="mf">0.05</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">24.9890605334</span><span class="p">,</span><span class="mf">18.004372738</span>
<span class="mf">0.0666666666667</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">24.9854179132</span><span class="p">,</span><span class="mf">18.0058267391</span>
<span class="mf">0.0833333333333</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">24.9817772251</span><span class="p">,</span><span class="mf">18.0072789533</span>
<span class="mf">0.1</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">24.9781384676</span><span class="p">,</span><span class="mf">18.008729382</span>
<span class="mf">0.116666666667</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">24.9745016395</span><span class="p">,</span><span class="mf">18.0101780265</span>
<span class="mf">0.133333333333</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">24.9708667394</span><span class="p">,</span><span class="mf">18.0116248882</span>
<span class="mf">0.15</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">24.9672337658</span><span class="p">,</span><span class="mf">18.0130699684</span>
<span class="mf">0.166666666667</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">24.9636027176</span><span class="p">,</span><span class="mf">18.0145132685</span>
<span class="mf">0.183333333333</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">24.9599735932</span><span class="p">,</span><span class="mf">18.0159547898</span>
<span class="mf">0.2</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">24.9563463914</span><span class="p">,</span><span class="mf">18.0173945337</span>
<span class="mf">0.216666666667</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">24.9527211107</span><span class="p">,</span><span class="mf">18.0188325015</span>
<span class="mf">0.233333333333</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">24.9490977499</span><span class="p">,</span><span class="mf">18.0202686946</span>
<span class="mf">0.25</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">24.9454763076</span><span class="p">,</span><span class="mf">18.0217031143</span>
<span class="mf">0.266666666667</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">24.9418567824</span><span class="p">,</span><span class="mf">18.0231357619</span>
<span class="mf">0.283333333333</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">24.938239173</span><span class="p">,</span><span class="mf">18.0245666388</span>
<span class="mf">0.3</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">24.934623478</span><span class="p">,</span><span class="mf">18.0259957463</span>
</pre></div>
</td></tr></table></div>
<dl class="class">
<dt id="gridsim.iodata.output.AttributesGetter">
<em class="property">class </em><code class="descclassname">gridsim.iodata.output.</code><code class="descname">AttributesGetter</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.iodata.output.AttributesGetter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This is the based class for all data which have to be saved.</p>
<dl class="method">
<dt id="gridsim.iodata.output.AttributesGetter.x_values">
<code class="descname">x_values</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.iodata.output.AttributesGetter.x_values" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns x values of data stored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of values</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.iodata.output.AttributesGetter.x_unit">
<code class="descname">x_unit</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.iodata.output.AttributesGetter.x_unit" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns x unit of data stored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a string representing the unit.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.iodata.output.AttributesGetter.y_values">
<code class="descname">y_values</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.iodata.output.AttributesGetter.y_values" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns y values of data stored. As more than one data can
be sent, the values have to be sent with the following format:
<code class="docutils literal"><span class="pre">[(label1,</span> <span class="pre">data1),</span> <span class="pre">(label2,</span> <span class="pre">data2),</span> <span class="pre">...]</span></code>
with:
* labelX: a string representing the dataX
* dataX: a list of data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a dict of values</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.iodata.output.AttributesGetter.y_unit">
<code class="descname">y_unit</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.iodata.output.AttributesGetter.y_unit" title="Permalink to this definition">¶</a></dt>
<dd><p>This method returns y unit of data stored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a string representing the unit.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.iodata.output.FigureSaver">
<em class="property">class </em><code class="descclassname">gridsim.iodata.output.</code><code class="descname">FigureSaver</code><span class="sig-paren">(</span><em>self</em>, <em>values</em>, <em>title</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.iodata.output.FigureSaver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A <a class="reference internal" href="#gridsim.iodata.output.FigureSaver" title="gridsim.iodata.output.FigureSaver"><code class="xref py py-class docutils literal"><span class="pre">FigureSaver</span></code></a> can be used to record a class:<cite>.AttributesGetter</cite>
and plot it in a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>values</strong> (<a class="reference internal" href="#gridsim.iodata.output.AttributesGetter" title="gridsim.iodata.output.AttributesGetter"><em>AttributesGetter</em></a>) &#8211; The values to display</li>
<li><strong>title</strong> (<em>str</em>) &#8211; The title of the plot.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="gridsim.iodata.output.FigureSaver.x_label">
<code class="descname">x_label</code><a class="headerlink" href="#gridsim.iodata.output.FigureSaver.x_label" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="gridsim.iodata.output.FigureSaver.y_label">
<code class="descname">y_label</code><a class="headerlink" href="#gridsim.iodata.output.FigureSaver.y_label" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="gridsim.iodata.output.FigureSaver.figure">
<code class="descname">figure</code><a class="headerlink" href="#gridsim.iodata.output.FigureSaver.figure" title="Permalink to this definition">¶</a></dt>
<dd><p>The matplotlib figure identifier. If the figure was not already
rendered, it will do this by calling <a class="reference internal" href="#gridsim.iodata.output.FigureSaver.render" title="gridsim.iodata.output.FigureSaver.render"><code class="xref py py-func docutils literal"><span class="pre">render()</span></code></a> automatically
before actually returning the figure.</p>
</dd></dl>

<dl class="method">
<dt id="gridsim.iodata.output.FigureSaver.render">
<code class="descname">render</code><span class="sig-paren">(</span><em>self</em>, <em>y_min=None</em>, <em>y_max=None</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.iodata.output.FigureSaver.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the actual figure and returns the matplotlib figure identifier.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">you do not need to call this method explicitly as it will get
called as soon as needed by other methods like <a class="reference internal" href="#gridsim.iodata.output.FigureSaver.save" title="gridsim.iodata.output.FigureSaver.save"><code class="xref py py-func docutils literal"><span class="pre">save()</span></code></a>
or the property getter <code class="docutils literal"><span class="pre">figure</span></code> are called. This method
offers some fine tuning parameters to control the look of the
figure.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>y_min</strong> (<em>float</em>) &#8211; Minimal value on the y-axis.</li>
<li><strong>y_max</strong> (<em>float</em>) &#8211; Maximal value on the y-axis.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gridsim.iodata.output.FigureSaver.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>self</em>, <em>file_name</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.iodata.output.FigureSaver.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the figure in the given file (<code class="docutils literal"><span class="pre">file_name</span></code>). The format is
deduced from the file name extension. The output supported formats
available depend on the backend being used. On Unix systems these
formats are normally supported:</p>
<blockquote>
<div><p><strong>Scalable Vector Graphics</strong> - *.svg, *.svgz (zip *.svg)</p>
<p><strong>Graphics Interchange Format</strong> - *.gif</p>
<p><strong>Portable Network Graphics</strong> - *.png</p>
<p><strong>JPEG Image</strong> - *.jpg, *.jpeg</p>
<p><strong>Postscript</strong> - *.ps</p>
<p><strong>Encapsulated Postscript</strong> - *.eps</p>
<p><strong>Tagged Image Format File</strong> - *.tif, *.tiff</p>
<p><strong>Raw RGBA bitmap</strong> - *.raw, *.rgba</p>
<p><strong>Portable Document Format</strong> - *.pdf</p>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_name</strong> (<em>str</em>) &#8211; File name (path) where to save the figure. The file
format is deduced from the file extension.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="gridsim.iodata.output.CSVSaver">
<em class="property">class </em><code class="descclassname">gridsim.iodata.output.</code><code class="descname">CSVSaver</code><span class="sig-paren">(</span><em>self</em>, <em>values</em>, <em>separator='</em>, <em>'</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.iodata.output.CSVSaver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>This saver save data as a text file with the csv format with the given.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>values</strong> (<a class="reference internal" href="#gridsim.iodata.output.AttributesGetter" title="gridsim.iodata.output.AttributesGetter"><em>AttributesGetter</em></a>) &#8211; The values to display</li>
<li><strong>separator</strong> (<em>str</em>) &#8211; the separator of two data in the same line</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="gridsim.iodata.output.CSVSaver.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>self</em>, <em>file_name</em><span class="sig-paren">)</span><a class="headerlink" href="#gridsim.iodata.output.CSVSaver.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the data in the given file (<code class="docutils literal"><span class="pre">file_name</span></code>). The format is a text
file regardless the extension of the file.
The data is store with the csv format and the header are the data
returned by <a class="reference internal" href="#gridsim.iodata.output.AttributesGetter.x_unit" title="gridsim.iodata.output.AttributesGetter.x_unit"><code class="xref py py-func docutils literal"><span class="pre">gridsim.iodata.output.AttributesGetter.x_unit()</span></code></a>
and <a class="reference internal" href="#gridsim.iodata.output.AttributesGetter.y_unit" title="gridsim.iodata.output.AttributesGetter.y_unit"><code class="xref py py-func docutils literal"><span class="pre">gridsim.iodata.output.AttributesGetter.y_unit()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_name</strong> (<em>str</em>) &#8211; File name (path) where to save the file.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="copyright.html" class="btn btn-neutral float-right" title="8. Further Information" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="unit.html" class="btn btn-neutral" title="6. The Simulation Unit" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; <a href="copyright.html">Copyright</a> 2013-2015, The Gridsim Team.
      Last updated on Dec 05, 2016.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.3.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>